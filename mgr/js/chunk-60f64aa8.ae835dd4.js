(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-60f64aa8"],{"11e4":function(e,t,a){},2209:function(e,t,a){},"6a2f":function(e,t,a){},"6def":function(e,t,a){"use strict";var i=a("b53c"),s=a.n(i);s.a},"7bfc":function(e,t,a){"use strict";var i=a("2209"),s=a.n(i);s.a},"83c7":function(e,t,a){"use strict";var i=a("6a2f"),s=a.n(i);s.a},b53c:function(e,t,a){},bc18:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"novel-featured-warp"},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"container"},[a("div",{staticClass:"tabox"},[a("el-radio-group",{staticStyle:{"margin-bottom":"20px"},on:{change:function(t){return e.changetab(e.radio)}},model:{value:e.radio,callback:function(t){e.radio=t},expression:"radio"}},e._l(e.tab,(function(t){return a("el-radio-button",{key:t.code,attrs:{label:t.code}},[e._v(e._s(t.name))])})),1)],1),a("div",{staticClass:"head-nav"},[a("span",{staticClass:"title"},[e._v("视频列表")]),a("v-add",{attrs:{getData:e.getDataList,module:e.radio}})],1),a("div",{staticClass:"handle-box"},[a("div",{staticClass:"handle-item"},[a("span",{staticClass:"label"},[e._v("视频名称:")]),a("el-input",{staticClass:"handle-input mr10",staticStyle:{"margin-left":"10px"},attrs:{placeholder:"请输入视频名称"},model:{value:e.params.name,callback:function(t){e.$set(e.params,"name",t)},expression:"params.name"}}),a("span",{staticClass:"label"},[e._v("状态:")]),a("el-select",{attrs:{placeholder:"状态"},model:{value:e.params.status,callback:function(t){e.$set(e.params,"status",t)},expression:"params.status"}},[a("el-option",{key:"0",attrs:{label:"全部",value:""}}),a("el-option",{key:"1",attrs:{label:"启用",value:1}}),a("el-option",{key:"2",attrs:{label:"禁用",value:0}})],1),a("span",{staticClass:"label fbrq"},[e._v("发布日期:")]),a("el-date-picker",{attrs:{type:"daterange","value-format":"yyyy-MM-dd HH:mm:ss","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","unlink-panels":""},on:{change:e.get_time},model:{value:e.value1,callback:function(t){e.value1=t},expression:"value1"}})],1),a("el-button",{attrs:{type:"primary",icon:"search"},on:{click:function(t){return e.getDataList(!0)}}},[e._v("搜索")])],1),a("div",{staticClass:"screen-box"},[a("v-screen",{attrs:{label:"影片类型",getData:e.getDataList,module:e.radio,params:e.params,dataList:e.categorys},on:{click:function(t){e.handleParams(t,"tags")}}}),a("v-screen",{attrs:{label:"兴趣选择",params:e.params,getData:e.getDataList,module:e.radio,dataList:e.tags},on:{click:function(t){e.handleParams(t,"tags")}}}),"video"==e.radio?a("v-screen",{attrs:{label:"影片地区",getData:e.getDataList,params:e.params,module:e.radio,dataList:e.area_idlist},on:{click:function(t){e.handleParams(t,"tags")}}}):e._e()],1),a("el-table",{staticClass:"table",attrs:{data:e.tableData,border:""}},[a("el-table-column",{attrs:{prop:"id",label:"ID"}}),a("el-table-column",{attrs:{prop:"name",label:"名称"}}),a("el-table-column",{attrs:{prop:"cover",label:"横版封面"},scopedSlots:e._u([{key:"default",fn:function(e){return[a("img",{staticStyle:{width:"100px"},attrs:{src:e.row.cover}})]}}])}),a("el-table-column",{attrs:{prop:"cover",label:"竖版封面"},scopedSlots:e._u([{key:"default",fn:function(e){return[a("img",{staticStyle:{width:"100px"},attrs:{src:e.row.vertical_cover}})]}}])}),"video"==e.radio?a("el-table-column",{attrs:{prop:"area_id",label:"地区",width:""},scopedSlots:e._u([{key:"default",fn:function(t){return e._l(t.row.area_text,(function(t,i){return a("span",{key:i},[e._v(" "+e._s(t))])}))}}],null,!1,1840390790)}):e._e(),"video"!=e.radio?a("el-table-column",{attrs:{prop:"actors_text",label:"演员"},scopedSlots:e._u([{key:"default",fn:function(t){return e._l(t.row.actors_text,(function(t,i){return a("span",{key:i},[e._v(" "+e._s(t))])}))}}],null,!1,1217085481)}):e._e(),a("el-table-column",{attrs:{prop:"is_vip",label:"是否vip",formatter:e.showFormatter}}),a("el-table-column",{attrs:{prop:"duration",label:"视频时长"}}),a("el-table-column",{attrs:{prop:"plays",label:"播放数"}}),a("el-table-column",{attrs:{prop:"collections",label:"收藏数"}}),a("el-table-column",{attrs:{prop:"status",label:"状态",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"table-cell",staticStyle:{display:"flex","align-items":"center","justify-content":"center"}},[1==t.row.status?a("a",{staticClass:"icon icon-show",on:{click:function(a){return e.handleEditShow(t.row,0)}}},[e._v("启用")]):e._e(),0==t.row.status?a("a",{staticClass:"icon icon-none",on:{click:function(a){return e.handleEditShow(t.row,1)}}},[e._v("禁用")]):e._e()])]}}])}),a("el-table-column",{attrs:{label:"操作",width:"150",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("v-add",{staticClass:"cell-item",attrs:{dataSource:t.row||null,getData:e.getDataList,module:e.radio,type:"edit"}}),a("v-del",{attrs:{getData:e.getDataList,id:t.row.id}})]}}])})],1),a("div",{staticClass:"pagination"},[a("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:e.total,"current-page":e.currentPage1,"page-size":e.params.pageSize||20},on:{"current-change":e.handleCurrentChange,"update:currentPage":function(t){e.currentPage1=t},"update:current-page":function(t){e.currentPage1=t}}})],1)],1),a("el-dialog",{attrs:{title:"提示","close-on-click-modal":!1,visible:e.delVisible,width:"300px",center:""},on:{"update:visible":function(t){e.delVisible=t}}},[a("div",{staticClass:"del-dialog-cnt"},[e._v("删除不可恢复，是否确定删除？")]),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.delVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.delVisible=!1}}},[e._v("确 定")])],1)])],1)},s=[],o=(a("28a5"),a("6b54"),a("f457")),r=a("d0c8"),l=a("d07e"),n=a("d534"),c=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"screen-btn-warp"},[a("div",{staticClass:"btn-label"},[e._v(e._s(e.label)+":")]),a("div",{staticClass:"item-box"},e._l(e.dataList,(function(t,i){return a("div",{key:i,staticClass:"item",class:{active:e.is_select==i},on:{click:function(a){return e.handleClick(t.id,i)}}},[e._v(e._s(t.name))])})),0)])},d=[],u=(a("c5f6"),{props:{getData:{type:Function,default:null},params:{type:Object,default:null},module:{type:String,default:null},dataList:{type:Array,default:[]},label:{type:String,default:""},default_select:{type:Number,default:0}},data:function(){return{select_data:this.is_select||0,is_change:!1}},computed:{is_select:function(){return!this.default_select||this.is_change?this.select_data:this.default_select}},methods:{handleClick:function(e,t){"影片类型"==this.label?this.params.category_id=e:"兴趣选择"==this.label?this.params.interest_tag_id=e:this.params.area_id=e,this.getData(),this.is_change=!0,this.select_data=t,this.$emit("click",e)}},mounted:function(){}}),m=u,f=(a("6def"),a("2877")),p=Object(f["a"])(m,c,d,!1,null,"5dd196e8",null),g=p.exports,v=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"add-ranking-warp"},[e.type?e._e():a("el-button",{attrs:{type:"primary",icon:"search"},on:{click:function(t){return e.handleOpen()}}},[e._v(e._s("edit"==e.type?"编辑":"新增")+"视频")]),"edit"==e.type?a("el-button",{attrs:{type:"primary",icon:"el-icon-edit"},on:{click:function(t){return e.handleOpen()}}},[e._v("编辑")]):e._e(),a("el-dialog",{staticClass:"dalong",attrs:{title:"edit"==e.type?"编辑":"新增","close-on-click-modal":!1,visible:e.editVisible,width:"50%"},on:{"update:visible":function(t){e.editVisible=t},close:e.closes}},[a("el-form",{ref:"ruleForm",staticClass:"detalis-form",attrs:{rules:e.rules,model:e.form,"label-width":"120px"}},[a("div",{staticClass:"flexbox"},[a("div",{staticClass:"left"},[a("el-form-item",{attrs:{label:"横版封面",prop:"covers"}},[a("v-upload",{staticClass:"avatar-uploader",attrs:{default_img:e.form.covers},on:{input:e.handleUploadImg,srclinks:e.getlinks,uploadload:e.getuploadcover}},[e.form.covers?a("img",{staticClass:"avatar hbimg",attrs:{src:e.form.covers}}):e._e()]),a("span",{staticStyle:{"font-size":"10px",color:"#f40",display:"block"}},[e._v("建议宽高比例为 174*118")])],1),a("el-form-item",{attrs:{label:"视频名称",prop:"name"}},[a("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),"index"==e.radio?a("el-form-item",{attrs:{label:"清晰度",prop:"is_code"}},[a("el-select",{attrs:{placeholder:"视频清晰度"},on:{change:e.handleVal},model:{value:e.form.is_code,callback:function(t){e.$set(e.form,"is_code",t)},expression:"form.is_code"}},e._l(e.is_code,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1):e._e(),"index"==e.radio?a("el-form-item",{key:"1",attrs:{label:"演员列表",prop:"actors"}},[a("el-select",{attrs:{multiple:"",placeholder:"请选择视频演员"},on:{change:e.handleVal},model:{value:e.form.actors,callback:function(t){e.$set(e.form,"actors",t)},expression:"form.actors"}},e._l(e.acttableData,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1):a("el-form-item",{key:"2",attrs:{label:"地区选择",prop:"area_id"}},[a("el-select",{attrs:{placeholder:"请选择地区"},on:{change:e.handleVal},model:{value:e.form.area_id,callback:function(t){e.$set(e.form,"area_id",t)},expression:"form.area_id"}},e._l(e.area_id,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1),a("el-form-item",{attrs:{label:"是否vip视频",prop:"is_vip"}},[a("el-radio",{attrs:{label:1},model:{value:e.form.is_vip,callback:function(t){e.$set(e.form,"is_vip",t)},expression:"form.is_vip"}},[e._v("是")]),a("el-radio",{attrs:{label:0},model:{value:e.form.is_vip,callback:function(t){e.$set(e.form,"is_vip",t)},expression:"form.is_vip"}},[e._v("否")])],1),a("el-form-item",{attrs:{label:"首页栏目",prop:"index_column"}},[a("el-select",{attrs:{multiple:"",placeholder:"请选择首页栏目"},model:{value:e.form.index_column,callback:function(t){e.$set(e.form,"index_column",t)},expression:"form.index_column"}},e._l(e.index_category,(function(e){return a("el-option",{key:e.code,attrs:{label:e.name,value:e.code}})})),1)],1)],1),a("div",{staticClass:"right"},[a("el-form-item",{attrs:{label:"竖版封面",prop:"vertical_covers"}},[a("v-uploads",{staticClass:"vertical-avatar-uploader",attrs:{default_img:e.form.vertical_covers},on:{input:e.handleUploadVerticalImg,srclinks:e.getlinkss,uploadload:e.getuploadvertical_cover}},[e.form.vertical_covers?a("img",{staticClass:"vertical-avatar sbimg",attrs:{src:e.form.vertical_covers}}):e._e()]),a("span",{staticStyle:{"font-size":"10px",color:"#f40",display:"block"}},[e._v("建议宽高比例为 115*166")])],1),a("el-form-item",{attrs:{label:"视频ID",prop:"vid"}},[a("el-input",{model:{value:e.form.vid,callback:function(t){e.$set(e.form,"vid",t)},expression:"form.vid"}})],1),a("el-form-item",{attrs:{label:"视频时长(秒)",prop:"duration"}},[a("el-input",{model:{value:e.form.duration,callback:function(t){e.$set(e.form,"duration",t)},expression:"form.duration"}})],1),a("el-form-item",{attrs:{label:"分类绑定",prop:"categories"}},[a("el-select",{attrs:{multiple:"",placeholder:"请选择分类进行绑定"},model:{value:e.form.categories,callback:function(t){e.$set(e.form,"categories",t)},expression:"form.categories"}},e._l(e.categorys,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1),a("el-form-item",{attrs:{label:"状态",prop:"status"}},[a("el-radio",{attrs:{label:1},model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}},[e._v("正常")]),a("el-radio",{attrs:{label:0},model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}},[e._v("禁用")])],1),a("el-form-item",{attrs:{label:"兴趣标签",prop:"interest_tags"}},[a("el-select",{attrs:{multiple:"",placeholder:"兴趣标签"},model:{value:e.form.interest_tags,callback:function(t){e.$set(e.form,"interest_tags",t)},expression:"form.interest_tags"}},e._l(e.tags,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1)],1)]),a("el-form-item",{attrs:{label:"视频标签",prop:"tags"}},[a("el-select",{attrs:{multiple:"",placeholder:"视频标签"},on:{change:e.handleVal},model:{value:e.form.tags,callback:function(t){e.$set(e.form,"tags",t)},expression:"form.tags"}},e._l(e.tagslist,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){return e.closeBtn("ruleForm")}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("确 定")])],1)],1)],1)},b=[],h=(a("96cf"),a("3b8d")),_=a("e014"),y=a("3dda"),k=a("5ecb"),x=a("fc6e"),S=a("7eec"),w={name:"basetable",components:{vUpload:y["a"],vUploads:k["a"],vAddpassageway:x["a"],vAddlink:S["a"]},props:{getData:{type:Function,default:null},module:{type:String,default:null},type:{type:String,default:null},dataSource:{type:Object,default:null}},data:function(){return{rules:{name:[{required:!0,message:"请填写视频名称",trigger:"blur"},{pattern:/^[^\s]*$/,message:"不能输入空格"},{pattern:/^\S{1,50}$/,message:"不能多于50个字"}],is_code:[{required:!0,message:"请选择清晰度",trigger:"blur"}],covers:[{required:!0,message:"请选择封面",trigger:"blur"}],vertical_covers:[{required:!0,message:"请选择封面",trigger:"blur"}],status:[{required:!0,message:"请填写状态",trigger:"blur"}],actors:[{required:!0,message:"请绑定演员",trigger:"blur"}],area_id:[{required:!0,message:"请绑定地区",trigger:"blur"}],categories:[{required:!0,message:"请绑定分类",trigger:"blur"}],duration:[{required:!0,message:"请填写视频时长",trigger:"blur"},{pattern:/^[0-9]*$/,message:"只能填写数字"}],brief:[{required:!0,message:"请填写视频简介",trigger:"blur"}],plays:[{required:!0,message:"请填写视频播放数量",trigger:"blur"}],collections:[{required:!0,message:"请填写视频收藏数",trigger:"blur"}],is_vip:[{required:!0,message:"请填写视频是否vip",trigger:"blur"}],vid:[{required:!0,message:"请填写视频ID",trigger:"blur"},{pattern:/^[^\s]*$/,message:"不能输入空格"},{pattern:/^\S{1,30}$/,message:"不能多于30个字"}]},index_category:[],editVisible:!1,beforform:[],form:{},img_domain:"",video_domain:"",linklist:[],acttableData:{},tableDatas:[],tags:[],categorys:[],param:{},linksists:[],is_code:[{name:"普通",id:1},{name:"高清",id:2}],area_id:[],videoFlag:!1,tagslist:[{id:1,name:"中"},{id:2,name:"清"},{id:3,name:"无"},{id:4,name:"独家"}],arr2:[],videoUploadPercent:"",isShowUploadVideo:!1,strlink:"",radio:"",uplodingcover:"",uplodingVerticalImg:"",sctp:"",sctps:""}},computed:{},created:function(){},methods:{getlinks:function(e){this.sctp=e},getlinkss:function(e){this.sctps=e},getuploadcover:function(e){this.uplodingcover=e},getuploadvertical_cover:function(e){this.uplodingVerticalImg=e},handleBtn:function(){},handleVal:function(e){},getare:function(){var e=this;Object(r["a"])({module:this.module},(function(t){200==t.code&&(e.area_id=t.data)}))},getindex_category:function(){var e=this;Object(o["d"])({module:this.module},(function(t){200==t.code&&(e.index_category=t.data)}))},getDataList:function(){var e=this;Object(n["b"])({module:this.module},(function(t){200==t.code&&(e.tags=t.data)}))},getCategory:function(){var e=this;Object(l["e"])({module:this.module},(function(t){200==t.code&&(e.categorys=t.data)}))},handleUpLoadFile:function(e){this.form.link=e},getDatas:function(){var e=this;Object(_["b"])(this.param,(function(t){200==t.code&&(e.acttableData=t.data)}))},getnewimgs:function(e){var t=a("3452"),i=a("27ae").Base64;a("30dc");function s(e,a){var i=t.enc.Utf8.parse(o),s=t.enc.Utf8.parse(a),r=t.AES.decrypt(e,i,{iv:s,padding:t.pad.Pkcs7});return r.toString(t.enc.Utf8)}var o=localStorage.getItem("img_key"),r=new XMLHttpRequest;r.open("GET",e.vertical_covers),r.send(null),r.onload=function(t){var a=t.target,o=JSON.parse(i.decode(a.responseText)),r=s(o.value,o.iv),l=r.split(","),n="data:"+l[0]+";base64,"+l[1];e.vertical_covers=n}},getnewimg:function(e){var t=a("3452"),i=a("27ae").Base64;a("30dc");function s(e,a){var i=t.enc.Utf8.parse(o),s=t.enc.Utf8.parse(a),r=t.AES.decrypt(e,i,{iv:s,padding:t.pad.Pkcs7});return r.toString(t.enc.Utf8)}var o=localStorage.getItem("img_key"),r=new XMLHttpRequest;r.open("GET",e.covers),r.send(null),r.onload=function(t){var a=t.target,o=JSON.parse(i.decode(a.responseText)),r=s(o.value,o.iv),l=r.split(","),n="data:"+l[0]+";base64,"+l[1];e.covers=n,console.log("xunr")}},handleOpen:function(){var e=Object(h["a"])(regeneratorRuntime.mark((function e(t){var a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.radio=this.module,this.img_domain=localStorage.getItem("img_domain"),this.video_domain=localStorage.getItem("video_domain"),this.editVisible=!0,this.form={is_code:1,is_vip:0,status:1},"edit"==this.type?Object(r["e"])({id:this.dataSource.id},(function(e){if(200==e.code){a.form=e.data,t&&(a.form.name=t);var i=[];i=a.form.index_column,a.form.index_column=[],i.map((function(e){a.form.index_column.push(e.code)})),a.form.covers=a.form.cover,a.form.vertical_covers=a.form.vertical_cover,a.getnewimg(a.form),a.getnewimgs(a.form),setTimeout((function(){if(console.log("走不"),a.form.module=a.form.module_code,a.form.categories=a.form.categories.join(),"index"==a.module&&"string"===typeof a.form.actors){var e=a.form.actors.split(",");a.form.actors=e.map((function(e){return Number(e)}))}if("string"===typeof a.form.tags){var t=a.form.tags.split(",");a.form.tags=t.map((function(e){return Number(e)}))}if("string"===typeof a.form.interest_tags&&0!=a.form.interest_tags){var i=a.form.interest_tags.split(",");a.form.interest_tags=i.map((function(e){return Number(e)}))}if("string"===typeof a.form.categories){var s=a.form.categories.split(",");a.form.categories=s.map((function(e){return Number(e)}))}}),100)}})):(this.form.showVideoPath="",this.isShowUploadVideo=!0,this.videoFlag=!1),this.getindex_category(),this.getDataList(),this.getDatas(),this.getCategory(),this.getare();case 11:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),handleUploadImg:function(e){this.form.covers=e,console.log(this.img_domain+this.form.cover),this.form=JSON.parse(JSON.stringify(this.form))},handleUploadVerticalImg:function(e){console.log(e),this.form.vertical_covers=e,this.form=JSON.parse(JSON.stringify(this.form)),console.log(this.form.vertical_covers=e)},uploadVideoProcess:function(e,t,a){this.videoFlag=!0,this.videoUploadPercent=1*t.percentage.toFixed(0)},cwsc:function(){if("index"==this.module){if("string"===typeof this.form.tags){var e=this.form.tags.split(",");this.form.tags=e.map((function(e){return Number(e)}))}if("string"===typeof this.form.actors){var t=this.form.actors.split(",");this.form.actors=t.map((function(e){return Number(e)}))}}if("string"===typeof this.form.interest_tags&&0!=this.form.interest_tags){var a=this.form.interest_tags.split(",");this.form.interest_tags=a.map((function(e){return Number(e)})),console.log(this.form.interest_tags,"标签兴趣")}if("string"===typeof this.form.tags){console.log(this.form.tags,"categories");var i=this.form.tags.split(",");this.form.tags=i.map((function(e){return Number(e)}))}if("string"===typeof this.form.categories){console.log(this.form.categories,"categories");var s=this.form.categories.split(",");this.form.categories=s.map((function(e){return Number(e)}))}if("string"===typeof this.form.index_column&&""!=this.form.index_column){console.log(this.form.index_column,"index_column");var o=this.form.index_column.split(",");this.form.index_column=o.map((function(e){return String(e)})),console.log(this.form.index_column,"index_column")}},handleVideoSuccess:function(e,t){this.isShowUploadVideo=!0,this.videoFlag=!1,this.videoUploadPercent=0,"success"==t.status?(this.form.showVideoPath=t.response.data,this.form.link=t.response.data):layer.msg("上传失败，请重新上传")},submitForm:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return console.log("error submit!!"),!1;if(t.sctp)t.form.cover=t.sctp;else if(void 0!==t.form.cover){var a=localStorage.getItem("img_domain");t.form.cover=t.form.cover.split(a)[1]}if(t.sctps)t.form.vertical_cover=t.sctps;else if(void 0!==t.form.vertical_cover){var i=localStorage.getItem("img_domain");t.form.vertical_cover=t.form.vertical_cover.split(i)[1]}if(0==t.uplodingcover&&0==t.uplodingVerticalImg)if("index"==t.module?t.form.actors=t.form.actors.join(","):delete t.form.is_code,t.form.interest_tags&&(t.form.interest_tags=t.form.interest_tags.join(",")),console.log(t.form.categories),t.form.categories=t.form.categories.join(","),console.log(t.form.categories),t.form.tags=t.form.tags.join(","),t.form.index_column&&(t.form.index_column=t.form.index_column.join(",")),"edit"==t.type){var s={};s=t.form,s.module=t.module,Object(r["c"])(s,(function(e){200==e.code&&(t.getData(),t.$message.success("修改成功"),t.form={},t.editVisible=!1,t.sctp="",t.sctps=""),1001==e.code&&t.cwsc()}))}else{var o={};o=t.form,o.module=t.module,Object(r["c"])(o,(function(e){200==e.code&&(t.getData(),t.$message.success("新增成功"),t.form={},t.editVisible=!1,t.sctp="",t.sctps=""),1001==e.code&&t.cwsc()}))}else t.$message.error("图片正在上传中")}))},closes:function(){this.$refs["ruleForm"].resetFields()},closeBtn:function(e){this.$refs[e].resetFields(),this.editVisible=!1}}},D=w,C=(a("cee7"),Object(f["a"])(D,v,b,!1,null,null,null)),V=C.exports,$=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"del-btn-warp"},[a("el-button",{staticStyle:{color:"red"},attrs:{type:"text",icon:"el-icon-circle-close"},on:{click:function(t){return e.handleDelete()}}},[e._v("删除")]),a("el-dialog",{attrs:{title:"提示",visible:e.delVisible,"close-on-click-modal":!1,width:"300px",center:""},on:{"update:visible":function(t){e.delVisible=t}}},[a("div",{staticClass:"del-dialog-cnt"},[e._v("删除视频将同时删除用户相关的关系数据，此操作不可恢复，确认删除？")]),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.delVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.deleteSure}},[e._v("确 定")])],1)])],1)},O=[],j={name:"del-btn",components:{},props:{getData:{type:Function,default:null},id:{default:""}},data:function(){return{editVisible:!1,delVisible:!1,form:{}}},created:function(){},computed:{},methods:{handleDelete:function(){this.delVisible=!0},deleteSure:function(){var e=this;Object(r["b"])({id:this.id},(function(t){200==t.code&&(e.$message.success("删除成功"),e.getData()),e.delVisible=!1}))}}},L=j,U=(a("7bfc"),Object(f["a"])(L,$,O,!1,null,"40e44b50",null)),P=U.exports,q={filters:{ellipsis:function(e){return e?e.length>30?e.slice(0,30)+"...":e:""}},name:"novel-featured-warp",components:{vAdd:V,vDel:P,vScreen:g},data:function(){return{loading:!0,isAddressParams:[{label:"全部",value:""},{label:"內地",value:2},{label:"中國香港",value:3},{label:"歐洲",value:5},{label:"臺灣",value:6},{label:"推薦",value:16},{label:"美國",value:30}],currentPage1:1,value1:"",area_idlist:[{label:"全部",value:""},{label:"2019",value:1},{label:"2018",value:9},{label:"2017",value:10},{label:"2016",value:11},{label:"2015",value:12},{label:"2014",value:13},{label:"2013",value:14},{label:"2012",value:15}],tags:[{label:"全部",value:""},{label:"古裝",value:4},{label:"娛樂",value:7},{label:"喜劇",value:17},{label:"動漫",value:18},{label:"音樂",value:19},{label:"生活",value:20},{label:"科技",value:21}],categorys:[{label:"全部",value:""},{label:"院線",value:22},{label:"自制",value:23},{label:"獨播",value:24},{label:"原聲",value:25},{label:"藍光",value:26}],tableDatas:[],editVisible:!1,delVisible:!1,total:1,params:{pageSize:10,page:"1",name:"",category_id:"",interest_tag_id:"",area_id:"",status:"",created_at:"",module:"index",categories:""},radio:"index",tab:[],tableData:[],valLast:[],img_domain:"",video_domain:""}},created:function(){var e=this;this.getData(),this.getDataList(),this.img_domain=localStorage.getItem("img_domain"),console.log(this.img_domain),this.video_domain=localStorage.getItem("video_domain"),Object(l["c"])(this.params,(function(t){200==t.code&&(console.log(1),e.tab=t.data,e.params.module_code=e.tab[0].code)})),this.getCategory(),this.getare(),this.getDataLists()},computed:{},methods:{getnewimg:function(e){var t=a("3452"),i=a("27ae").Base64;a("30dc");function s(e,a){var i=t.enc.Utf8.parse(o),s=t.enc.Utf8.parse(a),r=t.AES.decrypt(e,i,{iv:s,padding:t.pad.Pkcs7});return r.toString(t.enc.Utf8)}var o=localStorage.getItem("img_key"),r=new XMLHttpRequest;r.open("GET",e.cover),r.send(null),r.onload=function(t){var a=t.target,o=JSON.parse(i.decode(a.responseText)),r=s(o.value,o.iv),l=r.split(","),n="data:"+l[0]+";base64,"+l[1];e.cover=n;i.decode(n)}},getnewimgs:function(e){var t=a("3452"),i=a("27ae").Base64;a("30dc");function s(e,a){var i=t.enc.Utf8.parse(o),s=t.enc.Utf8.parse(a),r=t.AES.decrypt(e,i,{iv:s,padding:t.pad.Pkcs7});return r.toString(t.enc.Utf8)}var o=localStorage.getItem("img_key"),r=new XMLHttpRequest;r.open("GET",e.vertical_cover),r.send(null),r.onload=function(t){var a=t.target,o=JSON.parse(i.decode(a.responseText)),r=s(o.value,o.iv),l=r.split(","),n="data:"+l[0]+";base64,"+l[1];e.vertical_cover=n}},getCategory:function(){var e=this;Object(l["e"])({module:this.radio},(function(t){if(200==t.code){e.categorys=t.data;var a={id:0,name:"全部"};e.categorys.unshift(a)}}))},getare:function(){var e=this;Object(r["a"])({module:this.radio},(function(t){if(200==t.code){e.area_idlist=t.data;var a={id:0,name:"全部"};e.area_idlist.unshift(a)}}))},get_time:function(){null!=this.value1?this.params.created_at=this.value1.join():this.params.created_at=""},getDataLists:function(){var e=this;Object(n["b"])({module:this.radio},(function(t){if(200==t.code){e.tags=t.data;var a={id:0,name:"全部"};e.tags.unshift(a)}}))},changetab:function(e){this.params.module=e,this.radio=e,this.params.page=1,this.currentPage1=1,this.loading=!0,this.getDataList(),this.getCategory(),this.getare(),this.getDataLists()},getDataList:function(){var e=this;Object(o["e"])(this.params,(function(t){200==t.code&&(e.total=t.data.count,e.tableData=t.data.list,e.tableData.map((function(t){e.getnewimg(t),e.getnewimgs(t)})),e.loading=!1)}))},handleParams:function(e,t){this.params[t]=e,this.params.page=1,this.getData(),"tags"==t&&(this.valLast.push(e),e=this.valLast.join(","),this.params.tags=e)},showFormatter:function(e,t){return 1==e.is_vip?"是":"否"},handleCurrentChange:function(e){this.params.page=e,this.getDataList()},getData:function(){},handleEditShow:function(e,t){var a=this;0==e.status?e.status=1:e.status=0;var i={};i.id=e.id,i.status=e.status,Object(r["d"])(i,(function(e){a.$message.success("成功"),a.getData()}))},jumpDetails:function(e){this.$router.push({path:"/videoData",query:{id:e}})}}},I=q,F=(a("83c7"),Object(f["a"])(I,i,s,!1,null,null,null));t["default"]=F.exports},cee7:function(e,t,a){"use strict";var i=a("11e4"),s=a.n(i);s.a}}]);