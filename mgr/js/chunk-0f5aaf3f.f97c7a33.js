(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0f5aaf3f"],{"0362":function(t,e,a){"use strict";var l=a("cf32"),s=a.n(l);s.a},3856:function(t,e,a){"use strict";var l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"screen-btn-warp"},[a("div",{staticClass:"btn-label"},[t._v(t._s(t.label)+":")]),a("div",{staticClass:"item-box"},t._l(t.dataList,(function(e,l){return a("div",{key:l,staticClass:"item",class:{active:t.is_select==l},on:{click:function(a){return t.handleClick(e.value,l)}}},[t._v("\n      "+t._s(e.label)+"\n    ")])})),0)])},s=[],n=(a("c5f6"),{props:{dataList:{type:Array,default:[]},label:{type:String,default:""},default_select:{type:Number,default:0}},data:function(){return{select_data:this.is_select||0,is_change:!1}},computed:{is_select:function(){return!this.default_select||this.is_change?this.select_data:this.default_select}},methods:{handleClick:function(t,e){this.is_change=!0,this.select_data=e,this.$emit("click",t)}},mounted:function(){}}),i=n,o=(a("8026"),a("2877")),r=Object(o["a"])(i,l,s,!1,null,"c9971672",null);e["a"]=r.exports},"58d7":function(t,e,a){},"5bb3":function(t,e,a){},"767a":function(t,e,a){"use strict";var l=a("58d7"),s=a.n(l);s.a},8026:function(t,e,a){"use strict";var l=a("f37d"),s=a.n(l);s.a},cf32:function(t,e,a){},e0a7:function(t,e,a){"use strict";var l=a("5bb3"),s=a.n(l);s.a},f37d:function(t,e,a){},f423:function(t,e,a){"use strict";a.r(e);var l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"custom_menu-warp"},[a("div",{staticClass:"container"},[a("div",{staticClass:"head-nav"},[a("span",{staticClass:"title"},[t._v("个人中心配置")]),a("div",{staticClass:"handle-btn-box"},[a("v-add",{attrs:{getData:t.getData}})],1)]),a("div",{staticClass:"handle-box"},[a("div",{staticClass:"handle-item"},[a("span",{staticClass:"label"},[t._v("模块类型:")]),a("el-select",{attrs:{placeholder:"类型"},model:{value:t.params.type,callback:function(e){t.$set(t.params,"type",e)},expression:"params.type"}},[a("el-option",{key:"0",attrs:{label:"全部",value:null}}),a("el-option",{key:"1",attrs:{label:"自定义",value:2}}),a("el-option",{key:"2",attrs:{label:"系统模块",value:1}})],1)],1),a("el-button",{attrs:{type:"primary",icon:"search"},on:{click:t.getData}},[t._v("搜索")])],1),a("el-table",{ref:"multipleTable",staticClass:"table",attrs:{data:t.tableData,border:""}},[a("el-table-column",{attrs:{prop:"sort",label:"排序",width:"100"}}),a("el-table-column",{attrs:{prop:"name",label:"标题"}}),a("el-table-column",{attrs:{prop:"describe",label:"描述"}}),a("el-table-column",{attrs:{prop:"icon",label:"图片",width:"220"},scopedSlots:t._u([{key:"default",fn:function(t){return[a("el-image",{staticStyle:{"max-width":"30px","max-height":"30px"},attrs:{src:t.row.icon,"preview-src-list":[""+t.row.icon]}})]}}])}),a("el-table-column",{attrs:{prop:"action_method",label:"跳转方式",formatter:t.methodFormatter}}),a("el-table-column",{attrs:{prop:"action",label:"跳转内容"}}),a("el-table-column",{attrs:{prop:"type",label:"模块类型",formatter:t.typeFormatter}}),a("el-table-column",{attrs:{prop:"status",label:"H5显示状态",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"table-cell"},[1==e.row.h5_status?a("a",{staticClass:"icon icon-show",on:{click:function(a){return t.handleEditShow(e.row,0,"h5_status")}}},[t._v("显示")]):t._e(),0==e.row.h5_status?a("a",{staticClass:"icon icon-none",on:{click:function(a){return t.handleEditShow(e.row,1,"h5_status")}}},[t._v("隐藏")]):t._e()])]}}])}),a("el-table-column",{attrs:{prop:"status",label:"app显示状态",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"table-cell"},[1==e.row.app_status?a("a",{staticClass:"icon icon-show",on:{click:function(a){return t.handleEditShow(e.row,0,"app_status")}}},[t._v("显示")]):t._e(),0==e.row.app_status?a("a",{staticClass:"icon icon-none",on:{click:function(a){return t.handleEditShow(e.row,1,"app_status")}}},[t._v("隐藏")]):t._e()])]}}])}),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("v-add",{staticClass:"cell-item",attrs:{getData:t.getData,dataSource:e.row||null,type:"edit"}})]}}])}),a("el-table-column",{attrs:{label:"删除",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("v-del",{attrs:{getData:t.getData,id:e.row.id,type:e.row.type}})]}}])})],1),a("div",{staticClass:"pagination"},[a("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:t.total,"page-size":t.params.pageSize||20},on:{"current-change":t.handleCurrentChange}})],1)],1)])},s=[],n=a("ed08");function i(t,e){return Object(n["a"])("/api/admin/custom_menu/list","get",t).then((function(t){t&&e&&e(t)}))}function o(t,e){return Object(n["a"])("/api/admin/custom_menu/save","POST",t).then((function(t){t&&e&&e(t)}))}function r(t,e){return Object(n["a"])("/api/admin/custom_menu/del","get",t).then((function(t){t&&e&&e(t)}))}function c(t,e){return Object(n["a"])("/api/admin/custom_menu/set","get",t).then((function(t){t&&e&&e(t)}))}var u=a("3856"),d=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"add-book-btn-warp"},["edit"!=t.type?a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.handleOpen()}}},[t._v("新增")]):t._e(),"edit"==t.type?a("el-button",{attrs:{type:"text",icon:"el-icon-edit"},on:{click:function(e){return t.handleOpen()}}},[t._v("编辑")]):t._e(),a("el-dialog",{attrs:{title:"edit"==t.type?"编辑":"新增","close-on-click-modal":!1,visible:t.editVisible,width:"45%"},on:{"update:visible":function(e){t.editVisible=e}}},[a("el-form",{ref:"ruleForm",staticClass:"detalis-form",attrs:{rules:t.rules,model:t.form,"label-width":"160px"}},[a("el-form-item",{attrs:{label:"排序(值越大越靠前)",prop:"sort"}},[a("el-input",{model:{value:t.form.sort,callback:function(e){t.$set(t.form,"sort",e)},expression:"form.sort"}})],1),a("el-form-item",{attrs:{label:"标题",prop:"name"}},[a("el-input",{attrs:{disabled:1==t.form.type},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),a("el-form-item",{attrs:{label:"描述",prop:"describe"}},[a("el-input",{model:{value:t.form.describe,callback:function(e){t.$set(t.form,"describe",e)},expression:"form.describe"}})],1),a("el-form-item",{attrs:{label:"菜单图标"}},[a("v-upload",{attrs:{default_img:t.form.icon},on:{input:t.handleIconImg}})],1),1!=t.form.type?a("el-form-item",{attrs:{label:"跳转方式",prop:"action_method"}},[a("el-select",{attrs:{placeholder:"跳转方式"},model:{value:t.form.action_method,callback:function(e){t.$set(t.form,"action_method",e)},expression:"form.action_method"}},[a("el-option",{key:"1",attrs:{label:"内链",value:0}}),a("el-option",{key:"2",attrs:{label:"外链",value:1}})],1)],1):t._e(),1!=t.form.type?a("el-form-item",{attrs:{label:"跳转地址",prop:"action"}},[a("el-input",{model:{value:t.form.action,callback:function(e){t.$set(t.form,"action",e)},expression:"form.action"}})],1):t._e(),a("el-form-item",{attrs:{label:"h5显示状态",prop:"h5_status"}},[a("el-select",{attrs:{placeholder:"状态"},model:{value:t.form.h5_status,callback:function(e){t.$set(t.form,"h5_status",e)},expression:"form.h5_status"}},[a("el-option",{key:"1",attrs:{label:"隐藏",value:0}}),a("el-option",{key:"2",attrs:{label:"显示",value:1}})],1)],1),a("el-form-item",{attrs:{label:"APP显示状态",prop:"app_status"}},[a("el-select",{attrs:{placeholder:"状态"},model:{value:t.form.app_status,callback:function(e){t.$set(t.form,"app_status",e)},expression:"form.app_status"}},[a("el-option",{key:"1",attrs:{label:"隐藏",value:0}}),a("el-option",{key:"2",attrs:{label:"显示",value:1}})],1)],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){return t.closeBtn("ruleForm")}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.submitForm("ruleForm")}}},[t._v("确 定")])],1)],1)],1)},p=[],f=a("3dda"),m={name:"basetable",components:{vUpload:f["a"]},props:{getData:{type:Function,default:null},type:{type:String,default:null},dataSource:{type:Object,default:null},book_id:{}},data:function(){return{editVisible:!1,loading:!1,book_path:"",typeOptions:[],form:{},rules:{name:[{required:!0,message:"请填写标题",trigger:"change"}],app_status:[{required:!0,message:"请填写app显示状态",trigger:"blur"}],h5_status:[{required:!0,message:"请填写h5显示状态",trigger:"blur"}],sort:[{required:!0,message:"请填写排序",trigger:"blur"}],action:[{required:!0,message:"请填写跳转地址",trigger:"change"}],action_method:[{required:!0,message:"请填写跳转方式",trigger:"blur"}],describe:[{required:!0,message:"请填写描述",trigger:"blur"}]}}},created:function(){},computed:{},methods:{handleOpen:function(){this.editVisible=!0,"edit"==this.type&&(this.form=JSON.parse(JSON.stringify(this.dataSource)))},handleIconImg:function(t){this.form.icon=t,this.form=JSON.parse(JSON.stringify(this.form))},submitForm:function(t){var e=this;this.$refs[t].validate((function(t){if(!t)return console.log("error submit!!"),!1;o(e.form,(function(t){e.editVisible=!1,200==t.code&&(e.getData(),"edit"==e.type?e.$message.success("修改成功"):e.$message.success("新增成功"))}))})),this.form={},this.getData()},resetForm:function(t){this.$refs[t].resetFields()},closeBtn:function(t){this.editVisible=!1,this.$refs[t].resetFields(),this.form={},this.getData()}}},b=m,h=(a("767a"),a("2877")),_=Object(h["a"])(b,d,p,!1,null,null,null),v=_.exports,g=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"del-btn-warp"},["1"!=t.type?a("el-button",{staticStyle:{color:"red"},attrs:{type:"text",icon:"el-icon-circle-close"},on:{click:function(e){return t.handleDelete()}}},[t._v("删除")]):t._e(),"1"==t.type?a("el-button",{attrs:{type:"text",icon:"el-icon-circle-close",disabled:""},on:{click:function(e){return t.handleDelete()}}},[t._v("删除")]):t._e(),a("el-dialog",{attrs:{title:"提示",visible:t.delVisible,width:"300px","close-on-click-modal":!1,center:""},on:{"update:visible":function(e){t.delVisible=e}}},[a("div",{staticClass:"del-dialog-cnt"},[t._v("删除不可恢复，是否确定删除？")]),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.delVisible=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.deleteSure}},[t._v("确 定")])],1)])],1)},y=[],k={name:"del-btn",components:{},props:{getData:{type:Function,default:null},id:{default:""},type:{default:""}},data:function(){return{editVisible:!1,delVisible:!1,form:{}}},created:function(){},computed:{},methods:{handleDelete:function(){this.delVisible=!0},deleteSure:function(){var t=this;r({id:this.id},(function(e){200==e.code&&(t.$message.success("删除成功"),t.getData()),t.delVisible=!1}))}}},w=k,C=(a("e0a7"),Object(h["a"])(w,g,y,!1,null,"8f1ef570",null)),S=C.exports,x={name:"adviertisement",components:{vScreen:u["a"],vAdd:v,vDel:S},data:function(){return{cur_page:1,editVisible:!1,addVisible:!1,form:{},tableData:[],params:{page:1,pageSize:20},timeParams:{start_time:"2019-06-20",end_time:"2019-12-12"},editId:"",total:1,positionInfo:[]}},created:function(){this.getData()},computed:{},methods:{handleCurrentChange:function(t){this.params.page=t,this.getData()},handleEditShow:function(t,e,a){var l=this;c({id:t.id,status:e,key:a},(function(t){l.$message.success("成功"),l.getData()}))},methodFormatter:function(t,e){return 0==t.action_method?"内链":"外链"},typeFormatter:function(t,e){return 1==t.type?"系统菜单":"自定义菜单"},getData:function(){var t=this;i(this.params,(function(e){200==e.code&&(t.tableData=e.data.list,t.total=e.data.count)}))}}},D=x,$=(a("0362"),Object(h["a"])(D,l,s,!1,null,null,null));e["default"]=$.exports}}]);