(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6ea593db"],{"08e2":function(t,e,a){"use strict";var n=a("8256"),i=a.n(n);i.a},8256:function(t,e,a){},e7b8:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"capital-flow-warp"},[a("div",{staticClass:"container"},[t._m(0),a("div",{staticClass:"handle-box"},[a("div",{staticClass:"handle-item"},[a("span",{staticClass:"label"},[t._v("关键字（昵称/手机号）:")]),a("el-input",{staticClass:"handle-input",attrs:{placeholder:"昵称/用户手机号"},model:{value:t.params.keyword,callback:function(e){t.$set(t.params,"keyword",e)},expression:"params.keyword"}})],1),a("div",{staticClass:"handle-item"},[a("span",{staticClass:"label"},[t._v("流水类型:")]),a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.params.type,callback:function(e){t.$set(t.params,"type",e)},expression:"params.type"}},[a("el-option",{key:"0",attrs:{label:"全部",value:null}}),a("el-option",{key:"1",attrs:{label:"会员充值",value:1}}),a("el-option",{key:"2",attrs:{label:"积分兑换",value:2}}),a("el-option",{key:"3",attrs:{label:"积分获取",value:3}})],1)],1),a("el-button",{attrs:{type:"primary",icon:"search"},on:{click:function(e){return t.getData(!0)}}},[t._v("搜索")]),a("div",{staticClass:"total-info"},[a("span",{staticClass:"cell"},[t._v("积分总计："+t._s(t.total_tickets))]),a("span",{staticClass:"cell"},[t._v("金额总计："+t._s(t.total_coins))])])],1),a("el-table",{ref:"multipleTable",staticClass:"table",attrs:{data:t.tableData,border:""},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{type:"index",width:"105",align:"center"}}),a("el-table-column",{attrs:{prop:"serial_number",label:"流水号",width:"200"}}),a("el-table-column",{attrs:{prop:"point",label:"积分"}}),a("el-table-column",{attrs:{prop:"nickname",label:"昵称"}}),a("el-table-column",{attrs:{prop:"type",label:"类型",formatter:t.typeFormatter}}),a("el-table-column",{attrs:{prop:"describe",label:"描述"}}),a("el-table-column",{attrs:{prop:"balance",label:"当前积分余额"}}),a("el-table-column",{attrs:{prop:"mobile",label:"手机号码"}}),a("el-table-column",{attrs:{prop:"created_at",label:"流水时间"}})],1),a("div",{staticClass:"pagination"},[a("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:t.total,"page-size":t.params.pageSize||10},on:{"current-change":t.handleCurrentChange}})],1)],1)])},i=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"head-nav"},[a("span",{staticClass:"title"},[t._v("积分记录")])])}],l=(a("7f7f"),a("ed08"));function s(t,e){return Object(l["a"])("/api/admin/pipeline/list","get",t).then((function(t){t&&e&&e(t)}))}var o={name:"capital-flow-warp",components:{},data:function(){return{url:"./vuetable.json",cur_page:1,multipleSelection:[],del_list:[],editVisible:!1,delVisible:!1,params:{page:1,pageSize:20,channel:1,sort:"up",book_id:""},tableData:[],total_tickets:"",total_coins:"",total:1}},created:function(){this.params.book_id=this.$route.query.book_id,this.getData()},computed:{},methods:{handleCurrentChange:function(t){this.params.page=t,this.getData()},jump:function(t,e){var a=this.$route.query.book_type;"add"==t?this.$router.push({path:"/novel/chapter_add/0",query:{book_id:this.params.book_id,channel:this.params.channel,book_type:a}}):this.$router.push({path:"/novel/chapter_add/".concat(e.id),query:{book_id:this.params.book_id,book_type:a}})},typeFormatter:function(t,e){return 1==t.type?"会员充值":2==t.type?"积分兑换":"积分获取"},getData:function(t){var e=this;t&&(this.params.page=1),s(this.params,(function(t){200==t.code&&(e.total_tickets=t.data.total_point,e.total_coins=t.data.total_price,e.tableData=t.data.list,e.total=t.data.count)}))},formatter:function(t,e){return t.address},filterTag:function(t,e){return e.tag===t},handleAdd:function(t,e){this.editVisible=!0,this.form={}},handleEdit:function(t,e){if(e){this.idx=t;var a=e;this.form={name:a.name,date:a.date,address:a.address}}else this.form={};this.editVisible=!0},handleDelete:function(t,e){this.idx=t,this.delVisible=!0},delAll:function(){this.multipleSelection.length;console.log(this.multipleSelection,"multipleSelection")},handleSelectionChange:function(t){this.multipleSelection=t},saveEdit:function(){this.$set(this.tableData,this.idx,this.form),this.editVisible=!1,this.$message.success("修改第 ".concat(this.idx+1," 行成功"))},deleteRow:function(){this.tableData.splice(this.idx,1),this.$message.success("删除成功"),this.delVisible=!1}}},r=o,c=(a("08e2"),a("2877")),p=Object(c["a"])(r,n,i,!1,null,null,null);e["default"]=p.exports},ed08:function(t,e,a){"use strict";a.d(e,"a",(function(){return h}));a("8e6e"),a("ac6a"),a("456d");var n=a("bd86"),i=(a("a481"),a("bc3a")),l=a.n(i),s=a("01ea"),o=a("5c96");function r(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function c(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?r(Object(a),!0).forEach((function(e){Object(n["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function p(t){var e=t.data.code;t.config.url;if(t.status>=200&&t.status<300){if("2000"==e)window.sessionStorage.setItem("_token",""),Object(o["Message"])("请重新登录"),window.location.replace("/#/login");else if(200!==e){var a=t.data.msg;"登录超时，请重新登录"!=a&&"请先登陆"!=a&&1005!==e&&1008!==e&&1034!==e||window.location.replace("/#/login"),Object(o["Message"])(t.data.msg)}return t.data}if(1008===e||1034===e)throw Object(o["Message"])(t.data.msg),window.location.replace("/#/login"),error;throw t.data&&Object(o["Message"])(t.data.msg),error}function u(t){return new Promise((function(e,a){200==t.code?e(t):401==t.code?(Object(o["Message"])("登陆过期,请重新登陆"),window.location.replace("/#/login")):e(t)}))}function d(t){/[\u4e00-\u9fa5]/g.test(t.message)||console.log(t.message)}function h(t,e){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=(arguments.length>3&&void 0!==arguments[3]&&arguments[3],window.localStorage.getItem("_token")||"");switch(e){case"get":a={params:a};break;default:a={data:a}}var i=l.a.create({headers:{Accept:"application/json","Content-Type":"application/json",Authorization:n},timeout:1e4,baseURL:s["a"].baseURL});return i(c({url:"".concat(t),method:e},a)).then(p).then(u).then((function(t){return t})).catch((function(t){return d(t)}))}s["a"]}}]);