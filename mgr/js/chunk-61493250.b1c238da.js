(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-61493250"],{"0505":function(t,e,n){"use strict";n.d(e,"g",(function(){return i})),n.d(e,"f",(function(){return o})),n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return s})),n.d(e,"d",(function(){return c})),n.d(e,"e",(function(){return l})),n.d(e,"c",(function(){return u}));var a=n("ed08");function i(t,e){return Object(a["a"])("/api/admin/advertise/list","get",t).then((function(t){t&&e&&e(t)}))}function o(t,e){return Object(a["a"])("/api/admin/advertise/set","get",t).then((function(t){t&&e&&e(t)}))}function r(t,e){return Object(a["a"])("/api/admin/advertise/save","post",t).then((function(t){t&&e&&e(t)}))}function s(t,e){return Object(a["a"])("/api/admin/advertise/del","get",t).then((function(t){t&&e&&e(t)}))}function c(t,e){return Object(a["a"])("/api/admin/under_advertise/list","get",t).then((function(t){t&&e&&e(t)}))}function l(t,e){return Object(a["a"])("/api/admin/under_advertise/set","get",t).then((function(t){t&&e&&e(t)}))}function u(t,e){return Object(a["a"])("/api/admin/under_advertise/del","get",t).then((function(t){t&&e&&e(t)}))}},1977:function(t,e,n){},"2e32":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"novel-featured-warp"},[n("div",{staticClass:"container"},[t._m(0),n("div",{staticClass:"handle-box"},[n("div",{staticClass:"handle-item"},[n("span",{staticClass:"label"},[t._v("关键字:")]),n("el-input",{staticClass:"handle-input mr10",attrs:{placeholder:"请输入视频ID、会员ID"},model:{value:t.params.title,callback:function(e){t.$set(t.params,"title",e)},expression:"params.title"}}),n("el-input",{staticClass:"handle-input mr10",attrs:{placeholder:"请输入视频标题"},model:{value:t.params.title,callback:function(e){t.$set(t.params,"title",e)},expression:"params.title"}}),n("el-input",{staticClass:"handle-input mr10",attrs:{placeholder:"请输入用户名称"},model:{value:t.params.title,callback:function(e){t.$set(t.params,"title",e)},expression:"params.title"}})],1),n("el-button",{attrs:{type:"primary",icon:"search"},on:{click:function(e){return t.getData(!0)}}},[t._v("搜索")])],1),n("el-table",{staticClass:"table",attrs:{data:t.tableData,border:""}},[n("el-table-column",{attrs:{type:"index",width:"100"}}),n("el-table-column",{attrs:{prop:"title",label:"标题"}}),n("el-table-column",{attrs:{prop:"img",label:"图片"},scopedSlots:t._u([{key:"default",fn:function(t){return[n("el-image",{staticStyle:{width:"100px"},attrs:{src:t.row.img,"preview-src-list":[""+t.row.img]}})]}}])}),n("el-table-column",{attrs:{prop:"position",label:"广告位置",formatter:t.positionFormatter}}),n("el-table-column",{attrs:{prop:"action_method",label:"链接方式",formatter:t.methodFormatter}}),n("el-table-column",{attrs:{prop:"action",label:"链接地址"}}),n("el-table-column",{attrs:{prop:"clicks",label:"点击次数"}}),n("el-table-column",{attrs:{label:"操作",width:"200",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{attrs:{type:"text",icon:"el-icon-edit"},on:{click:function(n){return t.handleEditShow(e.row)}}},[t._v("上架广告")])]}}])}),n("el-table-column",{attrs:{label:"删除",width:"100",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("v-del",{attrs:{getData:t.getData,id:e.row.id}})]}}])})],1),n("div",{staticClass:"pagination"},[n("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:t.total,"page-size":t.params.pageSize||20},on:{"current-change":t.handleCurrentChange}})],1)],1)])},i=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"head-nav"},[n("span",{staticClass:"title"},[t._v("下架广告列表")])])}],o=n("0505"),r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"del-btn-warp"},[n("el-button",{staticStyle:{color:"red"},attrs:{type:"text",icon:"el-icon-circle-close"},on:{click:function(e){return t.handleDelete()}}},[t._v("删除")]),n("el-dialog",{attrs:{title:"提示",visible:t.delVisible,width:"300px",center:"","close-on-click-modal":!1},on:{"update:visible":function(e){t.delVisible=e}}},[n("div",{staticClass:"del-dialog-cnt"},[t._v("删除不可恢复，是否确定删除？")]),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(e){t.delVisible=!1}}},[t._v("取 消")]),n("el-button",{attrs:{type:"primary"},on:{click:t.deleteSure}},[t._v("确 定")])],1)])],1)},s=[],c={name:"del-btn",components:{},props:{getData:{type:Function,default:null},id:{default:""}},data:function(){return{editVisible:!1,delVisible:!1,form:{}}},created:function(){},computed:{},methods:{handleDelete:function(){this.delVisible=!0},deleteSure:function(){var t=this;Object(o["c"])({id:this.id},(function(e){200==e.code&&(t.$message.success("删除成功"),t.getData()),t.delVisible=!1}))}}},l=c,u=(n("9095"),n("2877")),d=Object(u["a"])(l,r,s,!1,null,"48d04e3f",null),p=d.exports,f={name:"novel-featured-warp",components:{vDel:p},data:function(){return{delVisible:!1,total:1,params:{title:"",position:"",status:"1"},tableData:[]}},created:function(){this.getData()},computed:{},methods:{handleDelete:function(t){var e=this;this.$confirm("是否删除?","提示",{confirmButtonText:"删除",cancelButtonText:"取消",type:"warning"}).then((function(){var n=t.id;console.log(n,"id"),do_advertise_del(n).then((function(t){e.$message({type:"success",message:"删除成功"}),e.getData()}))})).catch((function(){e.$message({type:"warning",message:"取消成功"}),e.getData()}))},positionFormatter:function(t,e){return"1"==t.position?"首页":"2"==t.position?"频道":"3"==t.position?"精选推荐":"4"==t.position?"精选热点":"5"==t.position?"精选发现":"6"==t.position?"我的":"7"==t.position?"视频详情":"8"==t.position?"任务中心":"9"==t.position?"演员详情":"10"==t.position?"分类页广告":void 0},handleCurrentChange:function(t){this.params.page=t,this.getData()},methodFormatter:function(t,e){return 1==t.action_method?"内链":"外链"},getData:function(){var t=this;Object(o["d"])(this.params,(function(e){200==e.code&&(t.tableData=e.data.list,t.total=e.data.count)}))},handleEditShow:function(t,e){var n=this;Object(o["e"])({id:t.id,status:1},(function(t){200==t.code&&(n.getData(),n.$message.success("上架成功"))}))},handleJump:function(t,e){this.$router.push({path:"/novel/featured_book_list",query:{top_id:e.id,position:e.position}})}}},m=f,b=(n("fd01"),Object(u["a"])(m,a,i,!1,null,null,null));e["default"]=b.exports},9095:function(t,e,n){"use strict";var a=n("c92e"),i=n.n(a);i.a},c92e:function(t,e,n){},ed08:function(t,e,n){"use strict";n.d(e,"a",(function(){return f}));n("8e6e"),n("ac6a"),n("456d");var a=n("bd86"),i=(n("a481"),n("bc3a")),o=n.n(i),r=n("01ea"),s=n("5c96");function c(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function l(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?c(Object(n),!0).forEach((function(e){Object(a["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function u(t){var e=t.data.code;t.config.url;if(t.status>=200&&t.status<300){if("2000"==e)window.sessionStorage.setItem("_token",""),Object(s["Message"])("请重新登录"),window.location.replace("/#/login");else if(200!==e){var n=t.data.msg;"登录超时，请重新登录"!=n&&"请先登陆"!=n&&1005!==e&&1008!==e&&1034!==e||window.location.replace("/#/login"),Object(s["Message"])(t.data.msg)}return t.data}if(1008===e||1034===e)throw Object(s["Message"])(t.data.msg),window.location.replace("/#/login"),error;throw t.data&&Object(s["Message"])(t.data.msg),error}function d(t){return new Promise((function(e,n){200==t.code?e(t):401==t.code?(Object(s["Message"])("登陆过期,请重新登陆"),window.location.replace("/#/login")):e(t)}))}function p(t){/[\u4e00-\u9fa5]/g.test(t.message)||console.log(t.message)}function f(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=(arguments.length>3&&void 0!==arguments[3]&&arguments[3],window.localStorage.getItem("_token")||"");switch(e){case"get":n={params:n};break;default:n={data:n}}var i=o.a.create({headers:{Accept:"application/json","Content-Type":"application/json",Authorization:a},timeout:1e4,baseURL:r["a"].baseURL});return i(l({url:"".concat(t),method:e},n)).then(u).then(d).then((function(t){return t})).catch((function(t){return p(t)}))}r["a"]},fd01:function(t,e,n){"use strict";var a=n("1977"),i=n.n(a);i.a}}]);