(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-58f24dfb"],{"17b7":function(t,e,n){},"64ce":function(t,e,n){},"896d":function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"add-ranking-warp"},[t.type?t._e():n("el-button",{attrs:{type:"primary",icon:"search"},on:{click:function(e){return t.handleOpen()}}},[t._v(t._s("edit"==t.type?"编辑":"新增")+"主演")]),"edit"==t.type?n("el-button",{attrs:{type:"text",icon:"el-icon-edit"},on:{click:function(e){return t.handleOpen()}}},[t._v("编辑")]):t._e(),n("el-dialog",{attrs:{title:"edit"==t.type?"编辑":"新增","close-on-click-modal":!1,visible:t.editVisible,width:"40%",close:"minwidth"},on:{"update:visible":function(e){t.editVisible=e}}},[n("el-form",{ref:"ruleForm",staticClass:"detalis-form",attrs:{rules:t.rules,model:t.form,"label-width":"120px"}},[n("el-form-item",{attrs:{label:"头像",prop:"head_imgs"}},[n("v-upload",{attrs:{default_img:t.form.head_imgs},on:{uploadload:t.getupload,input:t.handleUploadImg,srclinks:t.getlinks}})],1),n("el-form-item",{attrs:{label:"名称",prop:"name"}},[n("el-input",{model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),n("el-form-item",{attrs:{label:"排序",prop:"sort"}},[n("el-input",{model:{value:t.form.sort,callback:function(e){t.$set(t.form,"sort",e)},expression:"form.sort"}})],1),n("el-form-item",{attrs:{label:"状态",prop:"status"}},[n("el-radio",{attrs:{label:0},model:{value:t.form.status,callback:function(e){t.$set(t.form,"status",e)},expression:"form.status"}},[t._v("禁用")]),n("el-radio",{attrs:{label:1},model:{value:t.form.status,callback:function(e){t.$set(t.form,"status",e)},expression:"form.status"}},[t._v("启用")])],1),n("el-form-item",{attrs:{label:"人气等级",prop:"popularity_level"}},[n("el-radio-group",{model:{value:t.form.popularity_level,callback:function(e){t.$set(t.form,"popularity_level",e)},expression:"form.popularity_level"}},[n("el-radio-button",{attrs:{label:"A"}}),n("el-radio-button",{attrs:{label:"B"}}),n("el-radio-button",{attrs:{label:"C"}}),n("el-radio-button",{attrs:{label:"D"}}),n("el-radio-button",{attrs:{label:"E"}}),n("el-radio-button",{attrs:{label:"F"}}),n("el-radio-button",{attrs:{label:"G以上"}})],1)],1)],1),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(e){return t.closeBtn("ruleForm")}}},[t._v("取 消")]),n("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.submitForm("ruleForm")}}},[t._v("确 定")])],1)],1)],1)},i=[],r=(n("28a5"),n("e014")),o=n("3dda"),s={name:"basetable",components:{vUpload:o["a"]},props:{getData:{type:Function,default:null},type:{type:String,default:null},dataSource:{type:Object,default:null}},data:function(){return{editVisible:!1,form:{},positionInfo:{},param:{module:"advertise"},rules:{head_imgs:[{required:!0,message:"请选择头像",trigger:"blur"}],status:[{required:!0,message:"请选择状态",trigger:"blur"}],name:[{required:!0,message:"请填写名称",trigger:"blur"},{pattern:/^[^\s]*$/,message:"不能输入空格"},{pattern:/^\S{1,20}$/,message:"不能多于20个字"}],sort:[{required:!0,message:"请填写排序",trigger:"blur"},{pattern:/^[^\s]*$/,message:"不能输入空格"},{pattern:/^[0-9]*$/,message:"只能填写数字"}],popularity_level:[{required:!0,message:"请选择人气等级",trigger:"blur"}]},img_domain:"",video_domain:"",uploding:"",sctp:""}},created:function(){},computed:{},methods:{getlinks:function(t){this.sctp=t},handleOpen:function(){this.img_domain=localStorage.getItem("img_domain"),this.video_domain=localStorage.getItem("video_domain"),this.editVisible=!0,this.form={status:1},"edit"==this.type&&(this.dataSource.head_imgs=this.dataSource.head_img,this.form=JSON.parse(JSON.stringify(this.dataSource)))},handleUploadImg:function(t){console.log(t),this.form.head_imgs=t,this.form=JSON.parse(JSON.stringify(this.form))},getupload:function(t){this.uploding=t},submitForm:function(t){var e=this;this.$refs[t].validate((function(t){if(!t)return console.log("error submit!!"),!1;if(e.sctp)e.form.head_img=e.sctp;else{var n=localStorage.getItem("img_domain");e.form.head_img=e.form.oldimg.split(n)[1]}0==e.uploding?"edit"==e.type?Object(r["c"])(e.form,(function(t){200==t.code&&(e.getData(),e.$message.success("修改成功"),e.editVisible=!1,e.sctp="")})):Object(r["c"])(e.form,(function(t){200==t.code&&(e.getData(),e.$message.success("成功"),e.form={},e.editVisible=!1,e.sctp="")})):e.$message.error("图片正在上传中")}))},resetForm:function(t){this.$refs[t].resetFields()},closeBtn:function(t){this.$refs[t].resetFields(),this.editVisible=!1}}},l=s,c=(n("99ce"),n("2877")),u=Object(c["a"])(l,a,i,!1,null,null,null);e["a"]=u.exports},"8c69":function(t,e,n){"use strict";var a=n("17b7"),i=n.n(a);i.a},"966b":function(t,e,n){},"99ce":function(t,e,n){"use strict";var a=n("966b"),i=n.n(a);i.a},a354:function(t,e,n){"use strict";var a=n("c88b"),i=n.n(a);i.a},b4fa:function(t,e,n){"use strict";n.d(e,"f",(function(){return i})),n.d(e,"h",(function(){return r})),n.d(e,"e",(function(){return o})),n.d(e,"a",(function(){return s})),n.d(e,"g",(function(){return l})),n.d(e,"d",(function(){return c})),n.d(e,"c",(function(){return u})),n.d(e,"b",(function(){return d}));var a=n("ed08");function i(t,e){return Object(a["a"])("/api/admin/feedback/list","get",t).then((function(t){t&&e&&e(t)}))}function r(t,e){return Object(a["a"])("/api/admin/feedback/read","get",t).then((function(t){t&&e&&e(t)}))}function o(t,e){return Object(a["a"])("/api/admin/problem/top","get",t).then((function(t){t&&e&&e(t)}))}function s(t,e){return Object(a["a"])("/api/admin/feedback/del","get",t).then((function(t){t&&e&&e(t)}))}function l(t,e){return Object(a["a"])("/api/admin/problem/list","get",t).then((function(t){t&&e&&e(t)}))}function c(t,e){return Object(a["a"])("/api/admin/problem/set","get",t).then((function(t){t&&e&&e(t)}))}function u(t,e){return Object(a["a"])("/api/admin/problem/save","post",t).then((function(t){t&&e&&e(t)}))}function d(t,e){return Object(a["a"])("/api/admin/problem/del","get",t).then((function(t){t&&e&&e(t)}))}},c017:function(t,e,n){"use strict";var a=n("64ce"),i=n.n(a);i.a},c861:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"novel-featured-warp"},[n("div",{staticClass:"container"},[n("div",{staticClass:"head-nav"},[n("span",{staticClass:"title"},[t._v("主演列表")]),n("v-add",{attrs:{getData:t.getData}})],1),n("div",{staticClass:"handle-box"},[n("div",{staticClass:"handle-item"},[n("span",{staticClass:"label"},[t._v("关键字:")]),n("el-input",{staticClass:"handle-input mr10",attrs:{placeholder:"请输入主演名称"},model:{value:t.params.name,callback:function(e){t.$set(t.params,"name",e)},expression:"params.name"}})],1),n("el-button",{attrs:{type:"primary",icon:"search"},on:{click:function(e){return t.getData(!0)}}},[t._v("搜索")])],1),n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"table",attrs:{data:t.tableData,border:""}},[n("el-table-column",{attrs:{prop:"name",label:"主演名称"}}),n("el-table-column",{attrs:{prop:"popularity_level",label:"人气等级"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.popularity_level))]}}])}),n("el-table-column",{staticClass:"head",attrs:{prop:"head_img",label:"头像"},scopedSlots:t._u([{key:"default",fn:function(t){return[n("img",{staticStyle:{width:"100px",height:"100px","border-radius":"50%"},attrs:{src:t.row.head_img}})]}}])}),n("el-table-column",{attrs:{prop:"sort",label:"排序"}}),n("el-table-column",{attrs:{label:"状态"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("div",{staticClass:"table-cell"},[1==e.row.status?n("a",{staticClass:"icon icon-show",on:{click:function(n){return t.handleEditShow(e.row,0)}}},[t._v("启用")]):t._e(),0==e.row.status?n("a",{staticClass:"icon icon-none",on:{click:function(n){return t.handleEditShow(e.row,1)}}},[t._v("禁用")]):t._e()])]}}])}),n("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("v-add",{staticClass:"cell-item",attrs:{getData:t.getData,dataSource:e.row||null,type:"edit"}}),n("v-del",{attrs:{getData:t.getData,id:e.row.id}})]}}])})],1),n("div",{staticClass:"pagination"},[n("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:t.total,"page-size":t.params.pageSize||20},on:{"current-change":t.handleCurrentChange}})],1)],1)])},i=[],r=(n("8e6e"),n("ac6a"),n("456d"),n("bd86")),o=(n("28a5"),n("6b54"),n("e014")),s=(n("f6df"),n("896d")),l=n("e4b8"),c=n("27ae"),u=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"del-btn-warp"},[n("el-button",{staticStyle:{color:"red"},attrs:{type:"text",icon:"el-icon-circle-close"},on:{click:function(e){return t.handleDelete()}}},[t._v("删除")]),n("el-dialog",{attrs:{title:"提示",visible:t.delVisible,"close-on-click-modal":!1,width:"300px",center:""},on:{"update:visible":function(e){t.delVisible=e}}},[n("div",{staticClass:"del-dialog-cnt"},[t._v("删除不可恢复，是否确定删除？")]),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(e){t.delVisible=!1}}},[t._v("取 消")]),n("el-button",{attrs:{type:"primary"},on:{click:t.deleteSure}},[t._v("确 定")])],1)])],1)},d=[],f={name:"del-btn",components:{},props:{getData:{type:Function,default:null},id:{default:""}},data:function(){return{editVisible:!1,delVisible:!1,form:{}}},created:function(){},computed:{},methods:{handleDelete:function(){this.delVisible=!0},deleteSure:function(){var t=this;Object(o["a"])({id:this.id},(function(e){200==e.code&&(t.$message.success("删除成功"),t.getData()),t.delVisible=!1}))}}},m=f,p=(n("8c69"),n("2877")),b=Object(p["a"])(m,u,d,!1,null,"44413cae",null),g=b.exports;n("bc3a");function h(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function v(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?h(Object(n),!0).forEach((function(e){Object(r["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var _={name:"novel-featured-warp",components:{vAdd:s["a"],vDel:g,vAddImg:l["a"]},filters:{ellipsis:function(t){return t?t.length>30?t.slice(0,30)+"...":t:""}},data:function(){return{delVisible:!1,total:1,params:{name:""},tableData:[],positionInfo:[],loading:!0,img_domain:"",video_domain:""}},created:function(){this.positionInfo=JSON.parse(window.localStorage.getItem("_position_recommend")),this.img_domain=localStorage.getItem("img_domain"),this.video_domain=localStorage.getItem("video_domain"),this.getData(),this.getDatas(),this.getnewimg()},computed:{},methods:{getDatas:function(){},handleCurrentChange:function(t){this.params.page=t,this.getData()},getnewimg:function(t){var e=n("3452");n("30dc");function a(t,n){var a=e.enc.Utf8.parse(i),r=e.enc.Utf8.parse(n),o=e.AES.decrypt(t,a,{iv:r,padding:e.pad.Pkcs7});return o.toString(e.enc.Utf8)}var i=localStorage.getItem("img_key"),r=new XMLHttpRequest;r.open("GET",t.head_img),r.send(null),r.onload=function(e){var n=e.target,i=JSON.parse(c["Base64"].decode(n.responseText)),r=a(i.value,i.iv),o=r.split(","),s="data:"+o[0]+";base64,"+o[1];t.head_img=s;c["Base64"].decode(s)}},getData:function(){var t=this;n("3452"),n("30dc");Object(o["e"])(this.params,(function(e){200==e.code&&(t.tableData=e.data.list,t.tableData.map((function(e){e.oldimg=e.head_img,t.getnewimg(e,"index")})),t.total=e.data.count,t.loading=!1)}))},jumpDetails:function(t){},handleEditShow:function(t,e){var n=this;Object(o["f"])(v({},t,{status:e}),(function(t){n.$message.success("成功"),n.getData()}))},positionFormatter:function(t,e){var n="";return this.positionInfo.map((function(e,a){t.position==e.value&&(n=e.label)})),n},handleJump:function(t,e){this.$router.push({path:"/novel/featured_book_list",query:{top_id:e.id,position:e.position}})}}},O=_,y=(n("a354"),Object(p["a"])(O,a,i,!1,null,null,null));e["default"]=y.exports},c88b:function(t,e,n){},e014:function(t,e,n){"use strict";n.d(e,"e",(function(){return i})),n.d(e,"f",(function(){return r})),n.d(e,"h",(function(){return o})),n.d(e,"g",(function(){return s})),n.d(e,"d",(function(){return l})),n.d(e,"a",(function(){return c})),n.d(e,"c",(function(){return u})),n.d(e,"b",(function(){return d}));var a=n("ed08");function i(t,e){return Object(a["a"])("/api/admin/actor/list","get",t).then((function(t){t&&e&&e(t)}))}function r(t,e){return Object(a["a"])("/api/admin/actor/set","get",t).then((function(t){t&&e&&e(t)}))}function o(t,e){return Object(a["a"])("/api/admin/report/list","get",t).then((function(t){t&&e&&e(t)}))}function s(t,e){return Object(a["a"])("/api/admin/report/del","get",t).then((function(t){t&&e&&e(t)}))}function l(t,e){return Object(a["a"])("/api/admin/actor/info","get",t).then((function(t){t&&e&&e(t)}))}function c(t,e){return Object(a["a"])("/api/admin/actor/del","get",t).then((function(t){t&&e&&e(t)}))}function u(t,e){return Object(a["a"])("/api/admin/actor/save","post",t).then((function(t){t&&e&&e(t)}))}function d(t,e){return Object(a["a"])("/api/admin/actor/all","get",t).then((function(t){t&&e&&e(t)}))}},e4b8:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"add-warp"},[n("el-button",{attrs:{type:"text",icon:"el-icon-star-off"},on:{click:function(e){return t.handleOpen()}}},[t._v("详情")]),n("el-dialog",{attrs:{"close-on-click-modal":!1,title:"edit"==t.type?"编辑":"新增",visible:t.editVisible,width:"40%"},on:{"update:visible":function(e){t.editVisible=e}}},[n("el-form",{ref:"form",staticClass:"detalis-form",attrs:{rules:t.rules,model:t.form,"label-width":"120px"}},[n("el-form-item",{attrs:{label:"图片列表"},model:{value:t.form.thumbs,callback:function(e){t.$set(t.form,"thumbs",e)},expression:"form.thumbs"}},t._l(t.form.thumbs,(function(t){return n("div",{key:t.id,staticClass:"itemBox"},[n("img",{staticStyle:{height:"200px",width:"200px",float:"left"},attrs:{src:t}})])})),0)],1),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(e){return t.closeBtn("form")}}},[t._v("关 闭")])],1)],1)],1)},i=[],r=n("3dda"),o=(n("b4fa"),n("953d")),s=(n("a753"),n("8096"),n("14e1"),{name:"word",components:{vUpload:r["a"],quillEditor:o["quillEditor"]},props:{getData:{type:Function,default:null},dataSource:{type:Object,default:null},type:{type:String,default:null}},data:function(){return{editVisible:!1,form:{platform_flag:1},editorOption:{placeholder:"请输入答案"},rules:{sort:[{required:!0,message:"请填写排序",trigger:"change"}],question:[{required:!0,message:"请填写问题",trigger:"change"}],status:[{required:!0,message:"请填写状态",trigger:"change"}],answer:[{required:!0,message:"请填写答案",trigger:"change"}]}}},created:function(){},computed:{},methods:{handleOpen:function(){this.dataSource&&(this.form=this.dataSource),this.editVisible=!0},handleUploadImg:function(t){this.form.head_img=t},closeBtn:function(t){this.editVisible=!1,this.getData(),this.$refs[t].resetFields()},resetForm:function(t){this.$refs[t].resetFields()}}}),l=s,c=(n("c017"),n("2877")),u=Object(c["a"])(l,a,i,!1,null,"259bc242",null);e["a"]=u.exports},f6df:function(t,e,n){"use strict";n.d(e,"d",(function(){return i})),n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return o})),n.d(e,"g",(function(){return s})),n.d(e,"f",(function(){return l})),n.d(e,"e",(function(){return c})),n.d(e,"c",(function(){return u}));var a=n("ed08");function i(t,e){return Object(a["a"])("/api/admin/banner/list","get",t).then((function(t){t&&e&&e(t)}))}function r(t,e){return Object(a["a"])("/api/admin/banner/detail_ad_list","get",t).then((function(t){t&&e&&e(t)}))}function o(t,e){return Object(a["a"])("/api/admin/banner/detail_ad_save","POST",t).then((function(t){t&&e&&e(t)}))}function s(t,e){return Object(a["a"])("/api/admin/banner/select_title","get",t).then((function(t){t&&e&&e(t)}))}function l(t,e){return Object(a["a"])("/api/admin/banner/set","get",t).then((function(t){t&&e&&e(t)}))}function c(t,e){return Object(a["a"])("/api/admin/banner/save","post",t).then((function(t){t&&e&&e(t)}))}function u(t,e){return Object(a["a"])("/api/admin/banner/del","get",t).then((function(t){t&&e&&e(t)}))}}}]);