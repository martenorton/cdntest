(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-63413c31"],{"03e3":function(t,e,n){},"0bbf":function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"key-words-search"},[n("el-select",{attrs:{filterable:"",remote:"","reserve-keyword":"",placeholder:"请输入","remote-method":t.remoteMethod,loading:t.loading},on:{change:t.handleContent},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}},t._l(t.options,(function(t,e){return n("el-option",{key:e,attrs:{label:t.label,value:t.value}})})),1)],1)},o=[],i=(n("7f7f"),n("dc69")),r={props:{defalut_value:{default:""},position:{}},data:function(){return{options:[],value:[],list:[],loading:!1,states:["Alabama","Alaska","Arizona","Arkansas","California","Colorado","Connecticut","Delaware","Florida","Georgia","Hawaii","Idaho","Illinois","Indiana","Iowa","Kansas","Kentucky","Louisiana","Maine","Maryland","Massachusetts","Michigan","Minnesota","Mississippi","Missouri","Montana","Nebraska","Nevada","New Hampshire","New Jersey","New Mexico","New York","North Carolina","North Dakota","Ohio","Oklahoma","Oregon","Pennsylvania","Rhode Island","South Carolina","South Dakota","Tennessee","Texas","Utah","Vermont","Virginia","Washington","West Virginia","Wisconsin","Wyoming"]}},watch:{},computed:{},mounted:function(){this.value=this.defalut_value},methods:{remoteMethod:function(t){var e=this;""!==t&&(this.loading=!0,Object(i["n"])({page:1,pageSize:20,name:t,position:this.position||""},(function(t){e.loading=!1,200==t.code&&(e.options=t.data.map((function(t){return{value:t.id,label:t.name}})))})))},clear:function(){this.value=""},handleContent:function(){this.$emit("change",this.value)}}},s=r,l=(n("b897"),n("2877")),c=Object(l["a"])(s,a,o,!1,null,null,null);e["a"]=c.exports},"2db3":function(t,e,n){},"43f5":function(t,e,n){"use strict";var a=n("65bb"),o=n.n(a);o.a},"5d73":function(t,e,n){},"65bb":function(t,e,n){},b74b:function(t,e,n){"use strict";var a=n("2db3"),o=n.n(a);o.a},b778:function(t,e,n){"use strict";var a=n("5d73"),o=n.n(a);o.a},b897:function(t,e,n){"use strict";var a=n("03e3"),o=n.n(a);o.a},d9d9:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"novel-featured-book-warp"},[n("div",{staticClass:"container"},[n("div",{staticClass:"head-nav"},[n("span",{staticClass:"title"},[t._v("精选位视频列表")]),n("v-video",{attrs:{getData:t.getData,position:t.params.position,top_id:t.params.top_id}})],1),n("div",{staticClass:"handle-box"},[n("span",{staticClass:"label"},[t._v("搜索：")]),n("el-input",{staticClass:"handle-input mr10",attrs:{placeholder:"书名/作者"},model:{value:t.params.keywords,callback:function(e){t.$set(t.params,"keywords",e)},expression:"params.keywords"}}),n("el-button",{attrs:{type:"primary",icon:"search"},on:{click:function(e){return t.getData(!0)}}},[t._v("搜索")])],1),n("el-table",{ref:"multipleTable",staticClass:"table",attrs:{data:t.tableData,border:""}},[n("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),n("el-table-column",{attrs:{prop:"cover",label:"封面",sortable:"",width:"150"},scopedSlots:t._u([{key:"default",fn:function(t){return[n("img",{staticClass:"cell-cover",attrs:{src:t.row.video.cover,alt:""}})]}}])}),n("el-table-column",{attrs:{label:"电影名称"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("div",{staticClass:"tabel-details-box"},[n("a",{staticClass:"bookname",attrs:{href:"javesrcipt:void(0)"},on:{click:function(n){return t.jumpDetails(e.row)}}},[t._v(t._s(e.row.video.name))])])]}}])}),n("el-table-column",{attrs:{label:"视频简介"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",[t._v(t._s(e.row.video.brief))])]}}])}),n("el-table-column",{attrs:{label:"演员"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",[t._v(t._s(e.row.video.actors_text))])]}}])}),n("el-table-column",{attrs:{label:"时长"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",[t._v(t._s(e.row.video.duration))])]}}])}),n("el-table-column",{attrs:{label:"标签"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",[t._v(t._s(e.row.video.tags_text))])]}}])}),n("el-table-column",{attrs:{label:"是否vip视频"},scopedSlots:t._u([{key:"default",fn:function(e){return[1==e.row.video.is_vip?n("span",[t._v("是")]):t._e(),0==e.row.video.is_vip?n("span",[t._v("否")]):t._e()]}}])}),n("el-table-column",{attrs:{prop:"sort",label:"排序"}}),n("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{staticClass:"#409eff",attrs:{type:"text",icon:"el-icon-circle-check"},on:{click:function(n){return t.handleUp(e.row)}}},[t._v("置顶")])]}}])}),n("el-table-column",{attrs:{label:"删除",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("v-del",{attrs:{getData:t.getData,id:e.row.id}})]}}])})],1),n("div",{staticClass:"pagination"},[n("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:t.total,"page-size":t.params.pageSize||20},on:{"current-change":t.handleCurrentChange}})],1)],1)])},o=[],i=n("dc69"),r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"add-book-warp"},["edit"!=t.type?n("el-button",{attrs:{type:"primary",icon:"search"},on:{click:function(e){return t.handleOpen()}}},[t._v("新增推荐视频")]):t._e(),"edit"==t.type?n("el-button",{attrs:{type:"text",icon:"el-icon-edit"},on:{click:function(e){return t.handleOpen()}}},[t._v("编辑")]):t._e(),n("el-dialog",{attrs:{title:"edit"==t.type?"编辑":"新增",visible:t.editVisible,"close-on-click-modal":!1,width:"40%"},on:{"update:visible":function(e){t.editVisible=e}}},[n("el-form",{ref:"ruleForm",staticClass:"detalis-form",attrs:{rules:t.rules,model:t.form,"label-width":"120px"}},[n("el-form-item",{attrs:{label:"推荐视频",required:""}},[n("v-key-word",{ref:"key_word",attrs:{position:t.position,defalut_value:t.form.videos},on:{change:t.handleKeyWord}})],1),n("el-form-item",{attrs:{label:"栏目id",prop:"sort"}},[n("el-input",{attrs:{disabled:!0},model:{value:t.form.recommend_top_id,callback:function(e){t.$set(t.form,"recommend_top_id",e)},expression:"form.recommend_top_id"}})],1)],1),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(e){t.editVisible=!1}}},[t._v("取 消")]),n("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.submitForm("ruleForm")}}},[t._v("确 定")])],1)],1)],1)},s=[],l=(n("8e6e"),n("ac6a"),n("456d"),n("bd86")),c=n("0bbf"),u=n("3dda");function d(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function f(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?d(Object(n),!0).forEach((function(e){Object(l["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var p={name:"basetable",components:{vUpload:u["a"],vKeyWord:c["a"]},props:{getData:{type:Function,default:null},position:{},top_id:{},type:{},dataSource:{}},data:function(){return{editVisible:!1,params:{page:1,pageSize:20,keywords:"",recommend_top_id:""},form:{},rules:{}}},created:function(){this.params.recommend_top_id=this.$route.query.top_id,this.form.recommend_top_id=this.params.recommend_top_id},computed:{},methods:{handleOpen:function(){var t=this;this.params.recommend_top_id=this.$route.query.top_id,this.form.recommend_top_id=this.params.recommend_top_id,console.log(this.form.recommend_top_id,"id123"),this.editVisible=!0,"edit"==this.type?this.form=JSON.parse(JSON.stringify(this.dataSource)):this.$nextTick((function(){t.$refs.key_word.clear()}))},handleKeyWord:function(t){this.form.videos=t},submitForm:function(t){var e=this;this.$refs[t].validate((function(t){if(!t)return console.log("error submit!!"),!1;"edit"==e.type?Object(i["c"])(f({},e.form),(function(t){200==t.code&&(e.getData(),e.$message.success("修改成功"))})):Object(i["c"])(f({},e.form),(function(t){200==t.code&&(e.getData(),e.$message.success("成功"))})),e.form={},e.editVisible=!1}))},resetForm:function(t){this.$refs[t].resetFields()}}},m=p,b=(n("43f5"),n("2877")),h=Object(b["a"])(m,r,s,!1,null,null,null),v=h.exports,_=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"del-btn-warp"},[n("el-button",{staticStyle:{color:"red"},attrs:{type:"text",icon:"el-icon-circle-close"},on:{click:function(e){return t.handleDelete()}}},[t._v("删除")]),n("el-dialog",{attrs:{title:"提示",visible:t.delVisible,"close-on-click-modal":!1,width:"300px",center:""},on:{"update:visible":function(e){t.delVisible=e}}},[n("div",{staticClass:"del-dialog-cnt"},[t._v("删除不可恢复，是否确定删除？")]),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(e){t.delVisible=!1}}},[t._v("取 消")]),n("el-button",{attrs:{type:"primary"},on:{click:t.deleteSure}},[t._v("确 定")])],1)])],1)},g=[],y={name:"del-btn",components:{},props:{getData:{type:Function,default:null},id:{default:""}},data:function(){return{editVisible:!1,delVisible:!1,form:{}}},created:function(){},computed:{},methods:{handleDelete:function(){this.delVisible=!0},deleteSure:function(){var t=this;Object(i["h"])({id:this.id},(function(e){200==e.code&&(t.$message.success("删除成功"),t.getData()),t.delVisible=!1}))}}},k=y,O=(n("b778"),Object(b["a"])(k,_,g,!1,null,"60dae06c",null)),w=O.exports,j={name:"basetable",components:{vVideo:v,vDel:w},data:function(){return{cur_page:1,editVisible:!1,delVisible:!1,form:{name:"",date:"",address:""},tableData:[],params:{page:1,pageSize:20,top_id:"",name:""},total:1}},created:function(){this.params.top_id=this.$route.query.top_id,this.getData()},computed:{},methods:{handleCurrentChange:function(t){this.params.page=t,this.getData()},getData:function(t){var e=this;t&&(this.params.page=1),Object(i["b"])(this.params,(function(t){200==t.code&&(console.log(t.data,"123"),e.tableData=t.data.list,e.total=t.data.count)}))},jumpDetails:function(t){this.$router.push({path:"/videoData",query:{id:t.video.id}})},handleEdit:function(t){if(t){var e=t;this.form=e,console.log(e)}else this.form={};this.editVisible=!0},handleUp:function(t,e){var n=this;Object(i["m"])({id:t.id},(function(t){200==t.code&&(n.$message.success("成功"),n.getData())}))},channelFormatter:function(t,e){return 1==t.channel?"男频":2==t.channel?"女频":3==t.channel?"男频漫画":4==t.channel?"女频漫画":void 0}}},C=j,D=(n("b74b"),Object(b["a"])(C,a,o,!1,null,null,null));e["default"]=D.exports},dc69:function(t,e,n){"use strict";n.d(e,"k",(function(){return o})),n.d(e,"g",(function(){return i})),n.d(e,"d",(function(){return r})),n.d(e,"f",(function(){return s})),n.d(e,"e",(function(){return l})),n.d(e,"j",(function(){return c})),n.d(e,"a",(function(){return u})),n.d(e,"n",(function(){return d})),n.d(e,"i",(function(){return f})),n.d(e,"l",(function(){return p})),n.d(e,"b",(function(){return m})),n.d(e,"c",(function(){return b})),n.d(e,"m",(function(){return h})),n.d(e,"h",(function(){return v}));var a=n("ed08");function o(t,e){return Object(a["a"])("/api/admin/recommend_top/list","get",t).then((function(t){t&&e&&e(t)}))}function i(t,e){return Object(a["a"])("/api/admin/recommend/top","get",t).then((function(t){t&&e&&e(t)}))}function r(t,e){return Object(a["a"])("/api/admin/recommend/del","get",t).then((function(t){t&&e&&e(t)}))}function s(t,e){return Object(a["a"])("/api/admin/recommend_top/set","get",t).then((function(t){t&&e&&e(t)}))}function l(t,e){return Object(a["a"])("/api/admin/recommend_top/save","post",t).then((function(t){t&&e&&e(t)}))}function c(t,e){return Object(a["a"])("/api/admin/recommend/list","get",t).then((function(t){t&&e&&e(t)}))}function u(t,e){return Object(a["a"])("/api/admin/recommend_top/add_video","post",t).then((function(t){t&&e&&e(t)}))}function d(t,e){return Object(a["a"])("/api/admin/video/all_video","get",t).then((function(t){t&&e&&e(t)}))}function f(t,e){return Object(a["a"])("/api/admin/recommend_top/icons","get",t).then((function(t){t&&e&&e(t)}))}function p(t,e){return Object(a["a"])("/api/admin/recommend_top/selected_list","get",t).then((function(t){t&&e&&e(t)}))}function m(t,e){return Object(a["a"])("/api/admin/selected_recommend/list","get",t).then((function(t){t&&e&&e(t)}))}function b(t,e){return Object(a["a"])("/api/admin/recommend_top/add_selected_video","post",t).then((function(t){t&&e&&e(t)}))}function h(t,e){return Object(a["a"])("/api/admin/selected_recommend/top","get",t).then((function(t){t&&e&&e(t)}))}function v(t,e){return Object(a["a"])("/api/admin/selected_recommend/del","get",t).then((function(t){t&&e&&e(t)}))}}}]);