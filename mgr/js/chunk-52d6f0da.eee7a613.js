(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-52d6f0da"],{"06dd":function(e,t,n){},"822c":function(e,t,n){"use strict";var o=n("06dd"),r=n.n(o);r.a},"8e44":function(e,t,n){"use strict";n.d(t,"d",(function(){return r})),n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return i})),n.d(t,"e",(function(){return s})),n.d(t,"c",(function(){return c})),n.d(t,"f",(function(){return u}));var o=n("ed08");function r(e,t){return Object(o["a"])("/api/admin/login","post",e).then((function(e){e&&t&&t(e)}))}function a(e,t){return Object(o["a"])("/api/admin/common/file_domain","get",e).then((function(e){e&&t&&t(e)}))}function i(e,t){return Object(o["a"])("/api/admin/common/config","get",e).then((function(e){e&&t&&t(e)}))}function s(e,t){return Object(o["a"])("/api/admin/config/save","post",e).then((function(e){e&&t&&t(e)}))}function c(e,t){return Object(o["a"])("/api/admin/config/list","get",e).then((function(e){e&&t&&t(e)}))}function u(e,t){return Object(o["a"])("/api/admin/admin/change_pass","post",e).then((function(e){e&&t&&t(e)}))}},ed08:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));n("8e6e"),n("ac6a"),n("456d");var o=n("bd86"),r=(n("a481"),n("bc3a")),a=n.n(r),i=n("01ea"),s=n("5c96");function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){Object(o["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e){var t=e.data.code;e.config.url;if(e.status>=200&&e.status<300){if("2000"==t)window.sessionStorage.setItem("_token",""),Object(s["Message"])("请重新登录"),window.location.replace("/#/login");else if(200!==t){var n=e.data.msg;"登录超时，请重新登录"!=n&&"请先登陆"!=n&&1005!==t&&1008!==t&&1034!==t||window.location.replace("/#/login"),Object(s["Message"])(e.data.msg)}return e.data}if(1008===t||1034===t)throw Object(s["Message"])(e.data.msg),window.location.replace("/#/login"),error;throw e.data&&Object(s["Message"])(e.data.msg),error}function d(e){return new Promise((function(t,n){200==e.code?t(e):401==e.code?(Object(s["Message"])("登陆过期,请重新登陆"),window.location.replace("/#/login")):t(e)}))}function m(e){/[\u4e00-\u9fa5]/g.test(e.message)||console.log(e.message)}function f(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=(arguments.length>3&&void 0!==arguments[3]&&arguments[3],window.localStorage.getItem("_token")||"");switch(t){case"get":n={params:n};break;default:n={data:n}}var r=a.a.create({headers:{Accept:"application/json","Content-Type":"application/json",Authorization:o},timeout:1e4,baseURL:i["a"].baseURL});return r(u({url:"".concat(e),method:t},n)).then(l).then(d).then((function(e){return e})).catch((function(e){return m(e)}))}i["a"]},fcc6:function(e,t,n){"use strict";n.r(t);var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"login-wrap"},[n("div",{staticClass:"ms-login"},[n("div",{staticClass:"ms-title"},[e._v("视频")]),n("el-form",{ref:"ruleForm",staticClass:"ms-content",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"0px"}},[n("el-form-item",{attrs:{prop:"name"}},[n("el-input",{attrs:{placeholder:"账号"},model:{value:e.ruleForm.name,callback:function(t){e.$set(e.ruleForm,"name",t)},expression:"ruleForm.name"}},[n("el-button",{attrs:{slot:"prepend",icon:"el-icon-lx-people"},slot:"prepend"})],1)],1),n("el-form-item",{attrs:{prop:"password"}},[n("el-input",{attrs:{type:"password",placeholder:"密码"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.submitForm("ruleForm")}},model:{value:e.ruleForm.password,callback:function(t){e.$set(e.ruleForm,"password",t)},expression:"ruleForm.password"}},[n("el-button",{attrs:{slot:"prepend",icon:"el-icon-lx-lock"},slot:"prepend"})],1)],1),n("div",{staticClass:"login-btn"},[n("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("登录")])],1)],1)],1)])},r=[],a=(n("7f7f"),n("8e44")),i={data:function(){return{ruleForm:{name:"",password:""},rules:{name:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]}}},methods:{getfile_domain:function(){Object(a["a"])({},(function(e){200==e.code&&(console.log(e.data.img_domain),window.localStorage.setItem("img_domain",e.data.img_domain))}))},submitForm:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return console.log("error submit!!"),!1;localStorage.setItem("ms_username",t.ruleForm.name),t.getfile_domain(),Object(a["d"])(t.ruleForm,(function(e){if(200==e.code){console.log(e.data.img_key,"登陆"),window.localStorage.setItem("img_key",e.data.img_key),window.sessionStorage.setItem("img_key",e.data.img_key);var n=e.data.token_type+" "+e.data.access_token;window.localStorage.setItem("_token",n),window.sessionStorage.setItem("_token",n);var o=JSON.stringify(e.data.menu);window.localStorage.setItem("_menu",o),window.sessionStorage.setItem("_menu",o);var r="";r=""==e.data.menu[0].client_router?e.data.menu[0].son[0].client_router:e.data.menu[0].client_router,t.$router.push(r)}}))}))}}},s=i,c=(n("822c"),n("2877")),u=Object(c["a"])(s,o,r,!1,null,"0b29813b",null);t["default"]=u.exports}}]);