(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-00b45468"],{"71b7":function(t,e,a){"use strict";a.r(e);var l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"novel-book-shelf-warp"},[a("div",{staticClass:"container"},[a("div",{staticClass:"head-nav"},[a("span",{staticClass:"title"},[t._v("频道推荐")]),a("v-add",{attrs:{getData:t.getData}})],1),a("el-table",{ref:"multipleTable",staticClass:"table",attrs:{data:t.tableData,border:""}},[a("el-table-column",{attrs:{type:"index",width:"105",align:"center",label:"序号"}}),a("el-table-column",{attrs:{prop:"cover",label:"封面",sortable:"",width:"220",align:"center"},scopedSlots:t._u([{key:"default",fn:function(t){return[a("el-image",{staticStyle:{width:"140px",height:"180px"},attrs:{src:t.row.cover,"preview-src-list":[""+t.row.cover]}})]}}])}),a("el-table-column",{attrs:{prop:"name",label:"名称"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"tabel-details-box"},[a("div",{staticClass:"cell type-cell"},[a("a",{staticClass:"bookname",on:{click:function(a){return t.jumpDetails(e.row)}}},[t._v(t._s(e.row.bookname))])])])]}}])}),a("el-table-column",{attrs:{prop:"isbook",label:"书籍类型"}}),a("el-table-column",{attrs:{prop:"author",label:"作者"}}),a("el-table-column",{attrs:{prop:"sort",label:"展示排序"}}),a("el-table-column",{attrs:{label:"操作",width:"300",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("v-add",{staticClass:"cell-item",attrs:{getData:t.getData,dataSource:e.row||null,type:"edit"}})]}}])})],1),a("div",{staticClass:"pagination"},[a("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:t.total,"page-size":t.params.pageSize||20},on:{"current-change":t.handleCurrentChange}})],1)],1)])},o=[],r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"add-ranking-warp"},[t.type?t._e():a("el-button",{attrs:{type:"primary",icon:"search"},on:{click:function(e){return t.handleOpen()}}},[t._v(t._s("edit"==t.type?"编辑":"新增")+"频道推荐")]),"edit"==t.type?a("el-button",{attrs:{type:"text",icon:"el-icon-edit"},on:{click:function(e){return t.handleOpen()}}},[t._v("编辑")]):t._e(),a("el-dialog",{attrs:{title:"edit"==t.type?"编辑":"新增","close-on-click-modal":!1,visible:t.editVisible,width:"40%"},on:{"update:visible":function(e){t.editVisible=e}}},[a("el-form",{ref:"ruleForm",staticClass:"detalis-form",attrs:{rules:t.rules,model:t.form,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"广告图"}},[a("v-upload",{attrs:{default_img:t.form.img},on:{input:t.handleUploadImg}})],1),a("el-form-item",{attrs:{label:"标题",prop:"title"}},[a("el-input",{model:{value:t.form.title,callback:function(e){t.$set(t.form,"title",e)},expression:"form.title"}})],1),a("el-form-item",{attrs:{label:"跳转方式"}},[a("el-select",{attrs:{placeholder:"选择跳转方式"},model:{value:t.form.action_method,callback:function(e){t.$set(t.form,"action_method",e)},expression:"form.action_method"}},[a("el-option",{key:"1",attrs:{label:"内链",value:0}}),a("el-option",{key:"2",attrs:{label:"外链",value:1}})],1)],1),a("el-form-item",{attrs:{label:"跳转地址",prop:"action"}},[a("el-input",{model:{value:t.form.action,callback:function(e){t.$set(t.form,"action",e)},expression:"form.action"}})],1),a("el-form-item",{attrs:{label:"状态",prop:"status"}},[a("el-select",{attrs:{placeholder:"状态选择"},model:{value:t.form.status,callback:function(e){t.$set(t.form,"status",e)},expression:"form.status"}},[a("el-option",{key:"1",attrs:{label:"不显示",value:0}}),a("el-option",{key:"2",attrs:{label:"显示",value:1}})],1)],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){return t.closeBtn("ruleForm")}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.submitForm("ruleForm")}}},[t._v("确 定")])],1)],1)],1)},i=[],s=a("3dda"),n={name:"basetable",components:{vUpload:s["a"]},props:{getData:{type:Function,default:null},type:{type:String,default:null},dataSource:{type:Object,default:null}},data:function(){return{editVisible:!1,form:{},positionInfo:{},param:{module:"advertise"},rules:{title:[{required:!0,message:"请填写信息",trigger:"blur"}],status:[{required:!0,message:"请填写信息",trigger:"blur"}],position:[{required:!0,message:"请填写信息",trigger:"blur"}],author:[{required:!0,message:"请填写信息",trigger:"blur"}],action:[{required:!0,message:"请填写信息",trigger:"blur"}],sort:[{required:!0,message:"请填写信息",trigger:"blur"}],words:[{required:!0,message:"请填写信息",trigger:"blur"}]}}},created:function(){this.positionInfo=JSON.parse(window.localStorage.getItem("_position_advertise")),this.getDatas()},computed:{},methods:{getDatas:function(){},handleOpen:function(){this.editVisible=!0,this.form={},"edit"==this.type&&(this.form=JSON.parse(JSON.stringify(this.dataSource)))},handleUploadImg:function(t){this.form.img=t,this.form=JSON.parse(JSON.stringify(this.form))},submitForm:function(t){var e=this;this.$refs[t].validate((function(t){if(!t)return console.log("error submit!!"),!1;e.type,e.form={},e.editVisible=!1}))},resetForm:function(t){this.$refs[t].resetFields()},closeBtn:function(t){this.$refs[t].resetFields(),this.editVisible=!1}}},u=n,c=(a("96bb"),a("2877")),d=Object(c["a"])(u,r,i,!1,null,null,null),p=d.exports,f={name:"book-shelf",components:{vAdd:p},data:function(){return{tableData:[],params:{page:1,pageSize:10},total:1}},created:function(){this.getData()},computed:{},methods:{handleCurrentChange:function(t){this.params.page=t,this.getData()},jumpDetails:function(t){1==t.isbook?this.$router.push({path:"/novel/book_details",query:{book_id:t.book_id}}):this.$router.push({path:"/cartoon_details",query:{book_id:t.book_id}})},jumpChapter:function(t){this.$router.push({path:"/novel/chapter",query:{book_id:book_id}})},getData:function(){},handleEdit:function(t){if(t){var e=t;this.form=e,console.log(e)}else this.form={};this.editVisible=!0},handleUp:function(t,e){},channelFormatter:function(t,e){return 1==t.channel?"男频":2==t.channel?"女频":3==t.channel?"男频漫画":4==t.channel?"女频漫画":void 0}}},m=f,b=(a("fc7a"),Object(c["a"])(m,l,o,!1,null,null,null));e["default"]=b.exports},"96bb":function(t,e,a){"use strict";var l=a("e77e"),o=a.n(l);o.a},cfb2:function(t,e,a){},e77e:function(t,e,a){},fc7a:function(t,e,a){"use strict";var l=a("cfb2"),o=a.n(l);o.a}}]);