(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-509eca12"],{3378:function(t,e,a){},3856:function(t,e,a){"use strict";var l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"screen-btn-warp"},[a("div",{staticClass:"btn-label"},[t._v(t._s(t.label)+":")]),a("div",{staticClass:"item-box"},t._l(t.dataList,(function(e,l){return a("div",{key:l,staticClass:"item",class:{active:t.is_select==l},on:{click:function(a){return t.handleClick(e.value,l)}}},[t._v("\n      "+t._s(e.label)+"\n    ")])})),0)])},n=[],i=(a("c5f6"),{props:{dataList:{type:Array,default:[]},label:{type:String,default:""},default_select:{type:Number,default:0}},data:function(){return{select_data:this.is_select||0,is_change:!1}},computed:{is_select:function(){return!this.default_select||this.is_change?this.select_data:this.default_select}},methods:{handleClick:function(t,e){this.is_change=!0,this.select_data=e,this.$emit("click",t)}},mounted:function(){}}),o=i,s=(a("8026"),a("2877")),r=Object(s["a"])(o,l,n,!1,null,"c9971672",null);e["a"]=r.exports},"4ccd":function(t,e,a){"use strict";var l=a("f06f"),n=a.n(l);n.a},"5a9c":function(t,e,a){"use strict";var l=a("6588"),n=a.n(l);n.a},6588:function(t,e,a){},"680b":function(t,e,a){"use strict";a.r(e);var l=function(){var t=this,e=t.$createElement,l=t._self._c||e;return l("div",{staticClass:"novel-featured-warp"},[l("div",{staticClass:"container"},[l("div",{staticClass:"head-nav"},[l("span",{staticClass:"title"},[t._v("标签列表")]),l("v-add",{attrs:{getData:t.getData}})],1),l("el-table",{staticClass:"table",attrs:{data:t.tableData,border:""}},[l("el-table-column",{attrs:{type:"index",width:"100"}}),l("el-table-column",{attrs:{prop:"name",label:"标签名"},scopedSlots:t._u([{key:"default",fn:function(e){return[l("a",{attrs:{href:"javesrcipt:void(0)"},on:{click:function(a){return t.jumpDetails(e.row.id)}}},[t._v(t._s(e.row.name))])]}}])}),l("el-table-column",{attrs:{prop:"sort",label:"排序"}}),l("el-table-column",{attrs:{prop:"logo",label:"logo"},scopedSlots:t._u([{key:"default",fn:function(e){return[""!=e.row.logo?l("el-image",{staticStyle:{width:"80px"},attrs:{src:e.row.logo,"preview-src-list":[""+e.row.logo]}}):t._e(),""==e.row.logo?l("img",{staticStyle:{width:"80px"},attrs:{src:a("c1f4"),alt:""}}):t._e()]}}])}),l("el-table-column",{attrs:{prop:"is_module",label:"是否首页显示"},scopedSlots:t._u([{key:"default",fn:function(e){return[l("div",{staticClass:"table-cell"},[1==e.row.is_module?l("a",{staticClass:"icon icon-show",on:{click:function(a){return t.handleIndex(e.row,0)}}},[t._v("是")]):t._e(),0==e.row.is_module?l("a",{staticClass:"icon icon-none",on:{click:function(a){return t.handleIndex(e.row,1)}}},[t._v("否")]):t._e()])]}}])}),l("el-table-column",{attrs:{prop:"status",label:"状态"},scopedSlots:t._u([{key:"default",fn:function(e){return[l("div",{staticClass:"table-cell"},[1==e.row.status?l("a",{staticClass:"icon icon-show",on:{click:function(a){return t.handleEditShow(e.row,0)}}},[t._v("启用")]):t._e(),0==e.row.status?l("a",{staticClass:"icon icon-none",on:{click:function(a){return t.handleEditShow(e.row,1)}}},[t._v("禁用")]):t._e()])]}}])}),l("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[l("v-add",{staticClass:"cell-item",attrs:{getData:t.getData,dataSource:e.row||null,type:"edit"}})]}}])}),l("el-table-column",{attrs:{label:"删除",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[l("v-del",{attrs:{getData:t.getData,id:e.row.id}})]}}])})],1),l("div",{staticClass:"pagination"},[l("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:t.total,"page-size":t.params.pageSize||20},on:{"current-change":t.handleCurrentChange}})],1)],1),l("el-dialog",{attrs:{title:"提示","close-on-click-modal":!1,visible:t.delVisible,width:"300px",center:""},on:{"update:visible":function(e){t.delVisible=e}}},[l("div",{staticClass:"del-dialog-cnt"},[t._v("删除不可恢复，是否确定删除？")]),l("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[l("el-button",{on:{click:function(e){t.delVisible=!1}}},[t._v("取 消")]),l("el-button",{attrs:{type:"primary"},on:{click:function(e){t.delVisible=!1}}},[t._v("确 定")])],1)])],1)},n=[],i=(a("8e6e"),a("ac6a"),a("456d"),a("bd86")),o=a("d534"),s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"add-ranking-warp"},[t.type?t._e():a("el-button",{attrs:{type:"primary",icon:"search"},on:{click:function(e){return t.handleOpen()}}},[t._v(t._s("edit"==t.type?"编辑":"新增")+"标签")]),"edit"==t.type?a("el-button",{attrs:{type:"text",icon:"el-icon-edit"},on:{click:function(e){return t.handleOpen()}}},[t._v("编辑")]):t._e(),a("el-dialog",{attrs:{title:"edit"==t.type?"编辑":"新增","close-on-click-modal":!1,visible:t.editVisible,width:"40%"},on:{"update:visible":function(e){t.editVisible=e}}},[a("el-form",{ref:"ruleForm",staticClass:"detalis-form",attrs:{rules:t.rules,model:t.form,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"标签名",prop:"name"}},[a("el-input",{model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),a("el-form-item",{attrs:{label:"是否首页显示",prop:"is_module"}},[a("el-select",{attrs:{placeholder:"选择是否首页显示"},model:{value:t.form.is_module,callback:function(e){t.$set(t.form,"is_module",e)},expression:"form.is_module"}},[a("el-option",{key:"1",attrs:{label:"否",value:0}}),a("el-option",{key:"2",attrs:{label:"是",value:1}})],1)],1),a("el-form-item",{attrs:{label:"状态",prop:"status"}},[a("el-select",{attrs:{placeholder:"选择状态"},model:{value:t.form.status,callback:function(e){t.$set(t.form,"status",e)},expression:"form.status"}},[a("el-option",{key:"1",attrs:{label:"禁用",value:0}}),a("el-option",{key:"2",attrs:{label:"启用",value:1}})],1)],1),a("el-form-item",{attrs:{label:"排序",prop:"sort"}},[a("el-input",{model:{value:t.form.sort,callback:function(e){t.$set(t.form,"sort",e)},expression:"form.sort"}})],1),a("el-form-item",{attrs:{label:"类别",prop:"att"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.form.type_id,callback:function(e){t.$set(t.form,"type_id",e)},expression:"form.type_id"}},t._l(t.attOptions,(function(t,e){return a("el-option",{key:e,attrs:{label:t.name,value:t.id}})})),1)],1),0!=t.form.is_module?a("el-form-item",{attrs:{label:"logo"},model:{value:t.form.logo,callback:function(e){t.$set(t.form,"logo",e)},expression:"form.logo"}},[a("div",{staticClass:"itemBox"},t._l(t.imgList,(function(e,l){return a("el-radio",{key:l,attrs:{name:"type",label:l},on:{change:function(e){return t.changeLogoHandler(t.logo)}},model:{value:t.logo,callback:function(e){t.logo=e},expression:"logo"}},[a("img",{staticStyle:{width:"50px",height:"50px"},attrs:{src:e,alt:l}})])})),1)]):t._e()],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){return t.closeBtn("ruleForm")}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.submitForm("ruleForm")}}},[t._v("确 定")])],1)],1)],1)},r=[],c=a("3dda"),u={components:{vUpload:c["a"]},props:{getData:{type:Function,default:null},type:{type:String,default:null},dataSource:{type:Object,default:null}},data:function(){return{editVisible:!1,form:{},arrData:[],attOptions:[],positionInfo:{},rules:{name:[{required:!0,message:"请填写标题",trigger:"blur"}],status:[{required:!0,message:"请填写状态",trigger:"blur"}],sort:[{required:!0,message:"请填写排序",trigger:"blur"}],is_module:[{required:!0,message:"请填写是否到首页显示",trigger:"blur"}]},list:[],imgList:[],checkedImgs:[],checkAll:!1,isIndeterminate:!0,logo:!1}},created:function(){this.getAttData()},computed:{},updated:function(){this.attOptions=this.list},methods:{getAttData:function(){var t=this;Object(o["b"])({},(function(e){(e.code=200)&&(t.list=e.data)}))},getIcon:function(){var t=this;Object(o["c"])({},(function(e){(e.code=200)&&(t.imgList=e.data)}))},handleOpen:function(){this.getAttData(),this.getIcon(),this.editVisible=!0,this.form={},"edit"==this.type&&(this.form=JSON.parse(JSON.stringify(this.dataSource)))},handleUploadImg:function(t){this.form.logo=t,this.form=JSON.parse(JSON.stringify(this.form))},submitForm:function(t){var e=this;this.$refs[t].validate((function(t){if(!t)return console.log("error submit!!"),!1;"edit"==e.type?Object(o["f"])(e.form,(function(t){200==t.code&&(e.getData(),e.$message.success("修改成功"))})):Object(o["f"])(e.form,(function(t){200==t.code&&(e.getData(),e.$message.success("成功"))})),e.form={},e.editVisible=!1}))},resetForm:function(t){this.$refs[t].resetFields()},closeBtn:function(t){this.$refs[t].resetFields(),this.editVisible=!1},changeLogoHandler:function(t){this.form.logo=this.imgList[t]}},mounted:function(){var t=this;"edit"==this.type&&this.imgList.map((function(e,a){t.form.logo==e&&(t.form.logo=a)}))}},d=u,f=(a("ef3e"),a("2877")),p=Object(f["a"])(d,s,r,!1,null,null,null),m=p.exports,b=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"del-btn-warp"},[a("el-button",{staticStyle:{color:"red"},attrs:{type:"text",icon:"el-icon-circle-close"},on:{click:function(e){return t.handleDelete()}}},[t._v("删除")]),a("el-dialog",{attrs:{title:"提示",visible:t.delVisible,"close-on-click-modal":!1,width:"300px",center:""},on:{"update:visible":function(e){t.delVisible=e}}},[a("div",{staticClass:"del-dialog-cnt"},[t._v("删除不可恢复，是否确定删除？")]),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.delVisible=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.deleteSure}},[t._v("确 定")])],1)])],1)},g=[],v={name:"del-btn",components:{},props:{getData:{type:Function,default:null},id:{default:""}},data:function(){return{editVisible:!1,delVisible:!1,form:{}}},created:function(){},computed:{},methods:{handleDelete:function(){this.delVisible=!0},deleteSure:function(){var t=this;Object(o["a"])({id:this.id},(function(e){200==e.code&&(t.$message.success("删除成功"),t.getData()),t.delVisible=!1}))}}},h=v,_=(a("4ccd"),Object(f["a"])(h,b,g,!1,null,"ccf31d94",null)),y=_.exports,k=a("3856");function w(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);e&&(l=l.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,l)}return a}function O(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?w(Object(a),!0).forEach((function(e){Object(i["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):w(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var j={name:"novel-featured-warp",components:{vAdd:m,vDel:y,vScreen:k["a"]},data:function(){return{cur_page:1,editVisible:!1,delVisible:!1,total:1,param:{},params:{type_id:"",status:""},tableDatas:[],tableData:[],form:{name:"",date:"",address:""},positionInfo:[],sexParams:[{label:"全部",value:""},{label:"地区",value:1},{label:"年份",value:2},{label:"性质",value:3},{label:"类型",value:4}],yearParams:[{label:"全部",value:""},{label:"2000",value:1},{label:"2012",value:15},{label:"2013",value:14},{label:"2014",value:13},{label:"2015",value:12},{label:"2016",value:11},{label:"2017",value:10},{label:"2018",value:9},{label:"2019",value:8}],typeParams:[{label:"全部",value:""},{label:"推荐",value:16},{label:"喜剧",value:17},{label:"音乐",value:18},{label:"体育",value:19},{label:"娱乐",value:20},{label:"战争",value:21}],diyParams:[{label:"全部",value:""},{label:"院线",value:22},{label:"自制",value:23},{label:"独播",value:24},{label:"原声",value:25},{label:"蓝光",value:26}]}},created:function(){this.getData()},computed:{},methods:{getData:function(){var t=this;Object(o["e"])(this.params,(function(e){200==e.code&&(t.tableData=e.data.list,t.total=e.data.count)}))},handleParams:function(t,e){this.params[e]=t,this.params.page=1,this.getData()},handleCurrentChange:function(t){this.params.page=t,this.getData()},showFormatter:function(t,e){return 1==t.is_module?"是":"否"},jumpDetails:function(t){},handleEditShow:function(t,e){var a=this;Object(o["g"])(O({},t,{status:e}),(function(t){a.$message.success("成功"),a.getData()}))},handleIndex:function(t,e){var a=this;Object(o["f"])(O({},t,{is_module:e}),(function(t){a.$message.success("成功"),a.getData()}))},positionFormatter:function(t,e){var a="";return this.positionInfo.map((function(e,l){t.position==e.value&&(a=e.label)})),a}}},D=j,C=(a("5a9c"),Object(f["a"])(D,l,n,!1,null,null,null));e["default"]=C.exports},8026:function(t,e,a){"use strict";var l=a("f37d"),n=a.n(l);n.a},c1f4:function(t,e,a){t.exports=a.p+"img/errorShow.2a4170e8.png"},d534:function(t,e,a){"use strict";a.d(e,"e",(function(){return n})),a.d(e,"b",(function(){return i})),a.d(e,"d",(function(){return o})),a.d(e,"f",(function(){return s})),a.d(e,"g",(function(){return r})),a.d(e,"a",(function(){return c})),a.d(e,"c",(function(){return u}));var l=a("ed08");function n(t,e){return Object(l["a"])("/api/admin/tag/list","get",t).then((function(t){t&&e&&e(t)}))}function i(t,e){return Object(l["a"])("/api/admin/interest_tag/all","get",t).then((function(t){t&&e&&e(t)}))}function o(t,e){return Object(l["a"])("/api/admin/tag/info","get",t).then((function(t){t&&e&&e(t)}))}function s(t,e){return Object(l["a"])("/api/admin/tag/save","post",t).then((function(t){t&&e&&e(t)}))}function r(t,e){return Object(l["a"])("/api/admin/tag/set","get",t).then((function(t){t&&e&&e(t)}))}function c(t,e){return Object(l["a"])("/api/admin/tag/del","get",t).then((function(t){t&&e&&e(t)}))}function u(t,e){return Object(l["a"])("/api/admin/tag/module_icons","get",t).then((function(t){t&&e&&e(t)}))}},ef3e:function(t,e,a){"use strict";var l=a("3378"),n=a.n(l);n.a},f06f:function(t,e,a){},f37d:function(t,e,a){}}]);