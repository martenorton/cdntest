(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-10853f08"],{2921:function(t,e,n){},5643:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"novel-banner-warp"},[n("div",{staticClass:"container"},[n("div",{staticClass:"tabox"},[n("el-radio-group",{staticStyle:{"margin-bottom":"20px"},on:{change:function(e){return t.changetab(t.radio)}},model:{value:t.radio,callback:function(e){t.radio=e},expression:"radio"}},t._l(t.tab,(function(e,i){return n("el-radio-button",{key:i,attrs:{label:e.code}},[t._v(t._s(e.name))])})),1)],1),t._m(0),n("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}]},[t._l(t.dynamicTags,(function(e){return n("el-tag",{key:e.name,attrs:{closable:"","disable-transitions":!1},on:{close:function(n){return t.handleCloses(e.id)}}},[t._v(t._s(e.name))])})),t.inputVisible?n("el-input",{ref:"saveTagInput",staticClass:"input-new-tag",attrs:{size:"small"},on:{blur:t.handleInputConfirm},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.handleInputConfirm(e)}},model:{value:t.inputValue,callback:function(e){t.inputValue=e},expression:"inputValue"}}):n("el-button",{staticClass:"button-new-tag",attrs:{size:"small"},on:{click:t.showInput}},[t._v("+ New Tag")])],2),n("el-dialog",{staticClass:"dialong",attrs:{title:"提示",visible:t.dialogVisible,width:"300px"},on:{"update:visible":function(e){t.dialogVisible=e}}},[n("span",{staticClass:"spans"},[t._v("删除不可恢复，是否确认删除？")]),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("取 消")]),n("el-button",{attrs:{type:"primary"},on:{click:t.dele}},[t._v("确 定")])],1)])],1)])},a=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"head-nav"},[n("span",{staticClass:"title"},[t._v("标签")])])}],o=n("d07e"),r=n("ed08");function s(t,e){return Object(r["a"])("/api/admin/interest_tag/list","get",t).then((function(t){t&&e&&e(t)}))}function c(t,e){return Object(r["a"])("/api/admin/interest_tag/save","POST",t).then((function(t){t&&e&&e(t)}))}function l(t,e){return Object(r["a"])("/api/admin/interest_tag/del","POST",t).then((function(t){t&&e&&e(t)}))}var u=n("b3f4"),d=n("81bf"),f={name:"banner",components:{vAdd:u["a"],vDel:d["a"]},data:function(){return{url:"./vuetable.json",cur_page:1,tableDatas:[],loading:!0,form:{},tableData:[],total:1,positionInfo:[],params:{code:"index",name:"",module_code:"index"},radio:"index",tab:[],dynamicTags:[],inputVisible:!1,inputValue:"",dialogVisible:!1,tag:""}},created:function(){this.getData()},computed:{},methods:{dele:function(){var t=this;l({id:this.tag},(function(e){200==e.code&&(t.$message.success("删除成功"),s(t.params,(function(e){200==e.code&&(t.dynamicTags=e.data,t.dialogVisible=!1)})))}))},handleCloses:function(t){this.dialogVisible=!0,this.tag=t},showInput:function(){var t=this;this.inputVisible=!0,this.$nextTick((function(e){t.$refs.saveTagInput.$refs.input.focus()}))},handleInputConfirm:function(){var t=this,e=this.inputValue;e&&(this.params.name=e,c(this.params,(function(e){200==e.code&&(t.$message.success("增加成功"),s(t.params,(function(e){200==e.code&&(t.dynamicTags=e.data)})))}))),this.inputVisible=!1,this.inputValue=""},changetab:function(t){var e=this;this.params.code=t,this.params.module_code=t,this.loading=!0,s(this.params,(function(t){200==t.code&&(e.dynamicTags=t.data,e.loading=!1)}))},getData:function(t){var e=this;Object(o["c"])(this.params,(function(t){200==t.code&&(e.tab=t.data,e.params.code=e.tab[0].code,s(e.params,(function(t){200==t.code&&(e.dynamicTags=t.data,e.loading=!1)})))}))},positionFromatter:function(t,e){var n="";return this.positionInfo.map((function(e,i){t.position==e.value&&(n=e.label)})),n}}},m=f,p=(n("cee4b"),n("2877")),b=Object(p["a"])(m,i,a,!1,null,null,null);e["default"]=b.exports},"619d":function(t,e,n){},"81bf":function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"del-btn-warp"},[n("el-button",{staticStyle:{color:"red"},attrs:{type:"text",icon:"el-icon-circle-close"},on:{click:function(e){return t.handleDelete()}}},[t._v("删除")]),n("el-dialog",{attrs:{title:"提示",visible:t.delVisible,"close-on-click-modal":!1,width:"300px",center:""},on:{"update:visible":function(e){t.delVisible=e}}},[n("div",{staticClass:"del-dialog-cnt"},[t._v("删除不可恢复，是否确定删除？")]),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(e){t.delVisible=!1}}},[t._v("取 消")]),n("el-button",{attrs:{type:"primary"},on:{click:t.deleteSure}},[t._v("确 定")])],1)])],1)},a=[],o=(n("dc69"),n("d07e")),r={name:"del-btn",components:{},props:{getData:{type:Function,default:null},id:{default:""}},data:function(){return{editVisible:!1,delVisible:!1,form:{}}},created:function(){},computed:{},methods:{handleDelete:function(){this.delVisible=!0},deleteSure:function(){var t=this;Object(o["d"])({id:this.id},(function(e){200==e.code&&(t.$message.success("删除成功"),t.getData()),t.delVisible=!1}))}}},s=r,c=(n("c362"),n("2877")),l=Object(c["a"])(s,i,a,!1,null,"7aafd4c0",null);e["a"]=l.exports},b3f4:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"add-ranking-warp"},[t.type?t._e():n("el-button",{attrs:{type:"primary",icon:"search"},on:{click:function(e){return t.handleOpen()}}},[t._v(t._s("edit"==t.type?"编辑":"新增"))]),"edit"==t.type?n("el-button",{attrs:{type:"text",icon:"el-icon-edit"},on:{click:function(e){return t.handleOpen()}}},[t._v("编辑")]):t._e(),n("el-dialog",{attrs:{title:"edit"==t.type?"编辑":"新增","close-on-click-modal":!1,visible:t.editVisible,width:"40%"},on:{"update:visible":function(e){t.editVisible=e}}},[n("el-form",{ref:"ruleForm",staticClass:"detalis-form",attrs:{rules:t.rules,model:t.form,"label-width":"120px"}},[n("el-form-item",{attrs:{label:"分类名称",prop:"name"}},[n("el-input",{attrs:{placeholder:"请填写分类名称"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),n("el-form-item",{attrs:{label:"图片",prop:"img_urls"}},[n("v-upload",{attrs:{default_img:t.form.img_urls,placeholder:"请选择分类图片"},on:{input:t.handleUploadImg,uploadload:t.getupload,srclinks:t.getlinks}})],1),n("el-form-item",{attrs:{label:"显示到标题栏",prop:"is_title"}},[n("el-radio",{attrs:{label:1},model:{value:t.form.is_title,callback:function(e){t.$set(t.form,"is_title",e)},expression:"form.is_title"}},[t._v("是")]),n("el-radio",{attrs:{label:0},model:{value:t.form.is_title,callback:function(e){t.$set(t.form,"is_title",e)},expression:"form.is_title"}},[t._v("否")])],1),"index"!=t.radio?n("el-form-item",{attrs:{label:"热门标签",prop:"is_hot"}},[n("el-radio",{attrs:{label:1},model:{value:t.form.is_hot,callback:function(e){t.$set(t.form,"is_hot",e)},expression:"form.is_hot"}},[t._v("是")]),n("el-radio",{attrs:{label:0},model:{value:t.form.is_hot,callback:function(e){t.$set(t.form,"is_hot",e)},expression:"form.is_hot"}},[t._v("否")])],1):t._e()],1),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(e){return t.closeBtn("ruleForm")}}},[t._v("取 消")]),n("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.submitForm("ruleForm")}}},[t._v("确 定")])],1)],1)],1)},a=[],o=(n("28a5"),n("d07e")),r=n("3dda"),s=(n("f6df"),{name:"basetable",components:{vUpload:r["a"]},props:{getData:{type:Function,default:null},type:{type:String,default:null},dataSource:{type:Object,default:null},radio:{type:String,default:null}},data:function(){return{editVisible:!1,form:{},uploding:"",tableDatas:[],positionInfo:[],param:{module:"banner"},titlelist:[],rules:{name:[{required:!0,message:"请填写分类名称",trigger:"blur"},{pattern:/^[^\s]*$/,message:"不能输入空格"},{pattern:/^\S{1,20}$/,message:"不能多于20个字"}],img_urls:[{required:!0,message:"请上传分类图片",trigger:"blur"}],is_title:[{required:!0,message:"请选择是否显示到标题栏",trigger:"blur"}],is_hot:[{required:!0,message:"请选择是否热门标签",trigger:"blur"}]},img_domain:"",video_domain:"",sctp:""}},created:function(){this.positionInfo=JSON.parse(window.localStorage.getItem("_position"))},computed:{},methods:{getlinks:function(t){this.sctp=t},getupload:function(t){this.uploding=t},handleOpen:function(){this.img_domain=localStorage.getItem("img_domain"),this.editVisible=!0,this.form={},"edit"==this.type&&(this.dataSource.img_urls=this.dataSource.img_url,this.form=JSON.parse(JSON.stringify(this.dataSource)))},handleUploadImg:function(t){this.form.img_urls=t,this.form=JSON.parse(JSON.stringify(this.form))},submitForm:function(t){var e=this;this.$refs[t].validate((function(t){if(!t)return console.log("error submit!!"),!1;if(e.sctp)e.form.img_url=e.sctp;else{var n=localStorage.getItem("img_domain");e.form.img_url=e.form.oldimg.split(n)[1]}0==e.uploding?("edit"==e.type?(e.form.module_code=e.radio,e.form.id=e.dataSource.id,Object(o["b"])(e.form,(function(t){200==t.code&&(e.getData(),e.$message.success("修改成功"),e.sctp="")}))):(e.form.module_code=e.radio,Object(o["b"])(e.form,(function(t){200==t.code&&(e.getData(),e.$message.success("成功"),e.sctp="")}))),e.form={},e.editVisible=!1):e.$message.error("图片正在上传中")}))},resetForm:function(t){this.$refs[t].resetFields()},closeBtn:function(t){this.form={},this.$refs[t].resetFields(),this.editVisible=!1,console.log(this.$refs[t]),console.log(this.$refs[t].resetFields())}}}),c=s,l=n("2877"),u=Object(l["a"])(c,i,a,!1,null,null,null);e["a"]=u.exports},c362:function(t,e,n){"use strict";var i=n("2921"),a=n.n(i);a.a},cee4b:function(t,e,n){"use strict";var i=n("619d"),a=n.n(i);a.a},d07e:function(t,e,n){"use strict";n.d(e,"c",(function(){return a})),n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return r})),n.d(e,"d",(function(){return s})),n.d(e,"e",(function(){return c}));var i=n("ed08");function a(t,e){return Object(i["a"])("/api/admin/common/tab","get",t).then((function(t){t&&e&&e(t)}))}function o(t,e){return Object(i["a"])("/api/admin/category/list","get",t).then((function(t){t&&e&&e(t)}))}function r(t,e){return Object(i["a"])("/api/admin/category/save","POST",t).then((function(t){t&&e&&e(t)}))}function s(t,e){return Object(i["a"])("/api/admin/category/del","get",t).then((function(t){t&&e&&e(t)}))}function c(t,e){return Object(i["a"])("/api/admin/category/all","get",t).then((function(t){t&&e&&e(t)}))}},dc69:function(t,e,n){"use strict";n.d(e,"k",(function(){return a})),n.d(e,"g",(function(){return o})),n.d(e,"d",(function(){return r})),n.d(e,"f",(function(){return s})),n.d(e,"e",(function(){return c})),n.d(e,"j",(function(){return l})),n.d(e,"a",(function(){return u})),n.d(e,"n",(function(){return d})),n.d(e,"i",(function(){return f})),n.d(e,"l",(function(){return m})),n.d(e,"b",(function(){return p})),n.d(e,"c",(function(){return b})),n.d(e,"m",(function(){return g})),n.d(e,"h",(function(){return h}));var i=n("ed08");function a(t,e){return Object(i["a"])("/api/admin/recommend_top/list","get",t).then((function(t){t&&e&&e(t)}))}function o(t,e){return Object(i["a"])("/api/admin/recommend/top","get",t).then((function(t){t&&e&&e(t)}))}function r(t,e){return Object(i["a"])("/api/admin/recommend/del","get",t).then((function(t){t&&e&&e(t)}))}function s(t,e){return Object(i["a"])("/api/admin/recommend_top/set","get",t).then((function(t){t&&e&&e(t)}))}function c(t,e){return Object(i["a"])("/api/admin/recommend_top/save","post",t).then((function(t){t&&e&&e(t)}))}function l(t,e){return Object(i["a"])("/api/admin/recommend/list","get",t).then((function(t){t&&e&&e(t)}))}function u(t,e){return Object(i["a"])("/api/admin/recommend_top/add_video","post",t).then((function(t){t&&e&&e(t)}))}function d(t,e){return Object(i["a"])("/api/admin/video/all_video","get",t).then((function(t){t&&e&&e(t)}))}function f(t,e){return Object(i["a"])("/api/admin/recommend_top/icons","get",t).then((function(t){t&&e&&e(t)}))}function m(t,e){return Object(i["a"])("/api/admin/recommend_top/selected_list","get",t).then((function(t){t&&e&&e(t)}))}function p(t,e){return Object(i["a"])("/api/admin/selected_recommend/list","get",t).then((function(t){t&&e&&e(t)}))}function b(t,e){return Object(i["a"])("/api/admin/recommend_top/add_selected_video","post",t).then((function(t){t&&e&&e(t)}))}function g(t,e){return Object(i["a"])("/api/admin/selected_recommend/top","get",t).then((function(t){t&&e&&e(t)}))}function h(t,e){return Object(i["a"])("/api/admin/selected_recommend/del","get",t).then((function(t){t&&e&&e(t)}))}},f6df:function(t,e,n){"use strict";n.d(e,"d",(function(){return a})),n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return r})),n.d(e,"g",(function(){return s})),n.d(e,"f",(function(){return c})),n.d(e,"e",(function(){return l})),n.d(e,"c",(function(){return u}));var i=n("ed08");function a(t,e){return Object(i["a"])("/api/admin/banner/list","get",t).then((function(t){t&&e&&e(t)}))}function o(t,e){return Object(i["a"])("/api/admin/banner/detail_ad_list","get",t).then((function(t){t&&e&&e(t)}))}function r(t,e){return Object(i["a"])("/api/admin/banner/detail_ad_save","POST",t).then((function(t){t&&e&&e(t)}))}function s(t,e){return Object(i["a"])("/api/admin/banner/select_title","get",t).then((function(t){t&&e&&e(t)}))}function c(t,e){return Object(i["a"])("/api/admin/banner/set","get",t).then((function(t){t&&e&&e(t)}))}function l(t,e){return Object(i["a"])("/api/admin/banner/save","post",t).then((function(t){t&&e&&e(t)}))}function u(t,e){return Object(i["a"])("/api/admin/banner/del","get",t).then((function(t){t&&e&&e(t)}))}}}]);