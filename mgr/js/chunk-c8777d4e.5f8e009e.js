(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c8777d4e"],{"608d":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"add-warp"},[a("el-button",{attrs:{type:"primary",round:"",icon:"el-icon-circle-check"},on:{click:function(e){return t.handlePass()}}},[t._v("允许通过")]),a("el-dialog",{attrs:{title:"提示","close-on-click-modal":!1,visible:t.delVisible,width:"300px",center:""},on:{"update:visible":function(e){t.delVisible=e}}},[a("div",{staticClass:"del-dialog-cnt"},[t._v("确定通过吗？")]),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.delVisible=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.passSure}},[t._v("确 定")])],1)])],1)},r=[],o=a("3dda"),i=a("99c5a"),l={name:"del-btn",components:{vUpload:o["a"]},props:{getData:{type:Function,default:null},id:{default:""}},data:function(){return{editVisible:!1,delVisible:!1,form:{}}},created:function(){},computed:{},methods:{handlePass:function(){this.delVisible=!0},passSure:function(){var t=this,e="2";Object(i["i"])({id:this.id,status:e},(function(e){200==e.code&&(t.$message.success("审核成功"),t.getData()),t.delVisible=!1}))}}},s=l,c=(a("a673"),a("2877")),u=Object(c["a"])(s,n,r,!1,null,"1c8dfa9d",null);e["a"]=u.exports},"99b4":function(t,e,a){"use strict";var n=a("b06c"),r=a.n(n);r.a},"99c5a":function(t,e,a){"use strict";a.d(e,"b",(function(){return r})),a.d(e,"p",(function(){return o})),a.d(e,"g",(function(){return i})),a.d(e,"e",(function(){return l})),a.d(e,"c",(function(){return s})),a.d(e,"q",(function(){return c})),a.d(e,"f",(function(){return u})),a.d(e,"d",(function(){return d})),a.d(e,"l",(function(){return p})),a.d(e,"r",(function(){return m})),a.d(e,"j",(function(){return f})),a.d(e,"i",(function(){return b})),a.d(e,"k",(function(){return _})),a.d(e,"m",(function(){return h})),a.d(e,"h",(function(){return g})),a.d(e,"o",(function(){return v})),a.d(e,"n",(function(){return y})),a.d(e,"a",(function(){return k}));var n=a("ed08");function r(t,e){return Object(n["a"])("/api/admin/order/del_card_channel/".concat(t.id),"post",t).then((function(t){t&&e&&e(t)}))}function o(t,e){return Object(n["a"])("/api/admin/order/set_card_channel/".concat(t.id),"post",t).then((function(t){t&&e&&e(t)}))}function i(t,e){return Object(n["a"])("/api/admin/order/card_channel","get",t).then((function(t){t&&e&&e(t)}))}function l(t,e){return Object(n["a"])("/api/admin/order/save_card_channel","post",t).then((function(t){t&&e&&e(t)}))}function s(t,e){return Object(n["a"])("/api/admin/order/del_card/".concat(t.id),"get",t).then((function(t){t&&e&&e(t)}))}function c(t,e){return Object(n["a"])("/api/admin/order/set_card_status/".concat(t.id),"get",t).then((function(t){t&&e&&e(t)}))}function u(t,e){return Object(n["a"])("/api/admin/order/card_list","get",t).then((function(t){t&&e&&e(t)}))}function d(t,e){return Object(n["a"])("/api/admin/order/produce_card","post",t).then((function(t){t&&e&&e(t)}))}function p(t,e){return Object(n["a"])("/api/admin/order/cash","get",t).then((function(t){t&&e&&e(t)}))}function m(t,e){return Object(n["a"])("/api/admin/order/cash_check/".concat(t.id),"post",t).then((function(t){t&&e&&e(t)}))}function f(t,e){return Object(n["a"])("/api/admin/order/list","get",t).then((function(t){t&&e&&e(t)}))}function b(t,e){return Object(n["a"])("/api/admin/order/examine/".concat(t.id),"get",t).then((function(t){t&&e&&e(t)}))}function _(t,e){return Object(n["a"])("/api/admin/order/under_list","get",t).then((function(t){t&&e&&e(t)}))}function h(t,e){return Object(n["a"])("/api/admin/good/list","get",t).then((function(t){t&&e&&e(t)}))}function g(t,e){return Object(n["a"])("/api/admin/order/success_order","post",t).then((function(t){t&&e&&e(t)}))}function v(t,e){return Object(n["a"])("/api/admin/good/save","post",t).then((function(t){t&&e&&e(t)}))}function y(t,e){return Object(n["a"])("/api/admin/good/del","get",t).then((function(t){t&&e&&e(t)}))}function k(t,e){return Object(n["a"])("/api/admin/feedback/auth","post",t).then((function(t){t&&e&&e(t)}))}},a673:function(t,e,a){"use strict";var n=a("fd51"),r=a.n(n);r.a},b06c:function(t,e,a){},cdcf:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"goods-order-list-warp"},[a("div",{staticClass:"container"},[t._m(0),a("div",{staticClass:"handle-box"},[a("span",{staticClass:"label"},[t._v("订单类型：")]),a("span",{staticClass:"label"},[t._v("支付状态：")]),a("el-select",{staticClass:"handle-select mr10",attrs:{placeholder:"全部"},model:{value:t.params.status,callback:function(e){t.$set(t.params,"status",e)},expression:"params.status"}},[a("el-option",{key:"1",attrs:{label:"待支付",value:"0"}}),a("el-option",{key:"2",attrs:{label:"支付中",value:"1"}}),a("el-option",{key:"4",attrs:{label:"已拒绝",value:"3"}})],1),a("span",{staticClass:"label"},[t._v("手机号：")]),a("el-input",{staticClass:"handle-input mr10",attrs:{placeholder:"手机号"},model:{value:t.params.mobile,callback:function(e){t.$set(t.params,"mobile",e)},expression:"params.mobile"}}),a("span",{staticClass:"label"},[t._v("订单号：")]),a("el-input",{staticClass:"handle-input mr10",attrs:{placeholder:"订单号"},model:{value:t.params.orderSn,callback:function(e){t.$set(t.params,"orderSn",e)},expression:"params.orderSn"}}),a("el-button",{attrs:{type:"primary",icon:"search"},on:{click:function(e){return t.getData(!0)}}},[t._v("搜索")])],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],ref:"multipleTable",staticClass:"table",attrs:{data:t.tableData,border:""}},[a("el-table-column",{attrs:{type:"index",width:"55",align:"center",label:"序号"}}),a("el-table-column",{attrs:{prop:"orderSn",label:"订单号"}}),a("el-table-column",{attrs:{prop:"name",label:"用户名称(昵称)"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.name)+"("+t._s(e.row.nickname)+")")])]}}])}),a("el-table-column",{attrs:{label:"手机/email"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"vip-cell"},[a("div",[t._v(t._s(e.row.mobile)+"\n              "),""!=e.row.mobile&&null!=e.row.is_vip.mobile?a("span",[t._v("/")]):t._e(),t._v(t._s(e.row.email))])])]}}])}),a("el-table-column",{attrs:{prop:"goods_name",label:"套餐名"}}),a("el-table-column",{attrs:{prop:"order_type",label:"订单类型",formatter:t.orderFormatter}}),a("el-table-column",{attrs:{prop:"type",label:"支付方式",formatter:t.typeFormatter}}),a("el-table-column",{attrs:{label:"购买数量"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.goods_rule.num)+t._s(e.row.goods_rule.type_text))])]}}])}),a("el-table-column",{attrs:{label:"支付配置","min-width":"150px"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("p",[t._v("银行名称："+t._s(e.row.pay_config.bank_name))]),a("p",[t._v("收款人："+t._s(e.row.pay_config.payee))]),a("p",[t._v("银行卡号："+t._s(e.row.pay_config.bank_account))]),a("p",[t._v("手续费比例："+t._s(e.row.pay_config.handling_fee)+"%")]),a("p",[t._v("银行开户行地址："+t._s(e.row.pay_config.bank_address))])]}}])}),a("el-table-column",{attrs:{prop:"price",label:"订单价格",formatter:t.priceFormatter}}),a("el-table-column",{attrs:{prop:"handling_fee",label:"手续费"}}),a("el-table-column",{attrs:{prop:"pay_price",label:"实付金额",formatter:t.priceFormatters}}),a("el-table-column",{attrs:{prop:"pay_time",label:"下单时间"}}),a("el-table-column",{attrs:{label:"操作",width:"200",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"primary",round:"",icon:"el-icon-circle-check"},on:{click:function(a){return t.examine(e.row)}}},[t._v("允许通过")])]}}])})],1),a("el-dialog",{staticStyle:{width:"70%",margin:"auto"},attrs:{title:"审核","close-on-click-modal":!1,visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:t.ruleForm,rules:t.rules,"label-width":"100px"}},[a("el-form-item",{staticStyle:{width:"200px"},attrs:{label:"用户名："}},[t._v(t._s(t.name))]),a("el-form-item",{staticStyle:{width:"260px"},attrs:{label:"意见",prop:"status"}},[a("el-radio-group",{model:{value:t.ruleForm.status,callback:function(e){t.$set(t.ruleForm,"status",e)},expression:"ruleForm.status"}},[a("el-radio",{attrs:{label:2}},[t._v("通过")]),a("el-radio",{attrs:{label:3}},[t._v("拒绝")])],1)],1),a("el-form-item",{attrs:{label:"备注",prop:"remark"}},[a("el-input",{staticStyle:{width:"300px"},attrs:{type:"textarea"},model:{value:t.ruleForm.remark,callback:function(e){t.$set(t.ruleForm,"remark",e)},expression:"ruleForm.remark"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.handleClick("ruleForm")}}},[t._v("确 定")])],1)],1),a("div",{staticClass:"pagination"},[a("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:t.total,"page-size":t.params.pageSize||20},on:{"current-change":t.handleCurrentChange}})],1)],1)])},r=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"head-nav"},[a("span",{staticClass:"title"},[t._v("线下订单列表")])])}],o=(a("7f7f"),a("99c5a")),i=a("608d"),l={name:"goods-order-list",components:{vPass:i["a"]},data:function(){return{tableData:[],loading:!0,params:{status:"0"},ruleForm:{},rules:{remark:[{required:!0,message:"请填写备注",trigger:"blur"}],status:[{required:!0,message:"请选择意见",trigger:"blur"}]},id:"",name:"",total:1,dialogFormVisible:!1}},created:function(){this.getData()},computed:{},methods:{handleCurrentChange:function(t){this.params.page=t,this.loading=!0,this.getData()},examine:function(t){this.id=t.id,this.name=t.name,this.dialogFormVisible=!0},handleClick:function(t){var e=this;this.$refs[t].validate((function(t){if(!t)return console.log("error submit!!"),!1;var a={id:e.id,status:e.ruleForm.status,remark:e.ruleForm.remark};Object(o["i"])(a).then((function(t){t&&t.code,e.$message.success("操作成功"),e.getData()})),e.ruleForm={},e.dialogFormVisible=!1}))},getData:function(t){var e=this;t&&(this.params.page=1),Object(o["k"])(this.params,(function(t){200==t.code&&(e.tableData=t.data.list,e.total=t.data.count,e.loading=!1)}))},typeFormatter:function(t,e){return 1==t.type?"微信支付":2==t.type?"支付宝支付":3==t.type?"苹果支付":4==t.type?"二维码":5==t.type?"银行卡转账":6==t.type?"其他":void 0},orderFormatter:function(t,e){return 1==t.order_type?"会员充值":"积分兑换"},priceFormatter:function(t,e){return"".concat(t.price,"元")},priceFormatters:function(t,e){return"".concat(t.pay_price,"元")}}},s=l,c=(a("99b4"),a("2877")),u=Object(c["a"])(s,n,r,!1,null,null,null);e["default"]=u.exports},fd51:function(t,e,a){}}]);