(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4088f9f8"],{"608d":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"add-warp"},[a("el-button",{attrs:{type:"primary",round:"",icon:"el-icon-circle-check"},on:{click:function(e){return t.handlePass()}}},[t._v("允许通过")]),a("el-dialog",{attrs:{title:"提示","close-on-click-modal":!1,visible:t.delVisible,width:"300px",center:""},on:{"update:visible":function(e){t.delVisible=e}}},[a("div",{staticClass:"del-dialog-cnt"},[t._v("确定通过吗？")]),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.delVisible=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.passSure}},[t._v("确 定")])],1)])],1)},i=[],r=a("3dda"),o=a("99c5a"),s={name:"del-btn",components:{vUpload:r["a"]},props:{getData:{type:Function,default:null},id:{default:""}},data:function(){return{editVisible:!1,delVisible:!1,form:{}}},created:function(){},computed:{},methods:{handlePass:function(){this.delVisible=!0},passSure:function(){var t=this,e="2";Object(o["i"])({id:this.id,status:e},(function(e){200==e.code&&(t.$message.success("审核成功"),t.getData()),t.delVisible=!1}))}}},c=s,l=(a("a673"),a("2877")),u=Object(l["a"])(c,n,i,!1,null,"1c8dfa9d",null);e["a"]=u.exports},"621a":function(t,e,a){},"99c5a":function(t,e,a){"use strict";a.d(e,"b",(function(){return i})),a.d(e,"p",(function(){return r})),a.d(e,"g",(function(){return o})),a.d(e,"e",(function(){return s})),a.d(e,"c",(function(){return c})),a.d(e,"q",(function(){return l})),a.d(e,"f",(function(){return u})),a.d(e,"d",(function(){return d})),a.d(e,"l",(function(){return f})),a.d(e,"r",(function(){return p})),a.d(e,"j",(function(){return m})),a.d(e,"i",(function(){return b})),a.d(e,"k",(function(){return h})),a.d(e,"m",(function(){return g})),a.d(e,"h",(function(){return v})),a.d(e,"o",(function(){return _})),a.d(e,"n",(function(){return y})),a.d(e,"a",(function(){return k}));var n=a("ed08");function i(t,e){return Object(n["a"])("/api/admin/order/del_card_channel/".concat(t.id),"post",t).then((function(t){t&&e&&e(t)}))}function r(t,e){return Object(n["a"])("/api/admin/order/set_card_channel/".concat(t.id),"post",t).then((function(t){t&&e&&e(t)}))}function o(t,e){return Object(n["a"])("/api/admin/order/card_channel","get",t).then((function(t){t&&e&&e(t)}))}function s(t,e){return Object(n["a"])("/api/admin/order/save_card_channel","post",t).then((function(t){t&&e&&e(t)}))}function c(t,e){return Object(n["a"])("/api/admin/order/del_card/".concat(t.id),"get",t).then((function(t){t&&e&&e(t)}))}function l(t,e){return Object(n["a"])("/api/admin/order/set_card_status/".concat(t.id),"get",t).then((function(t){t&&e&&e(t)}))}function u(t,e){return Object(n["a"])("/api/admin/order/card_list","get",t).then((function(t){t&&e&&e(t)}))}function d(t,e){return Object(n["a"])("/api/admin/order/produce_card","post",t).then((function(t){t&&e&&e(t)}))}function f(t,e){return Object(n["a"])("/api/admin/order/cash","get",t).then((function(t){t&&e&&e(t)}))}function p(t,e){return Object(n["a"])("/api/admin/order/cash_check/".concat(t.id),"post",t).then((function(t){t&&e&&e(t)}))}function m(t,e){return Object(n["a"])("/api/admin/order/list","get",t).then((function(t){t&&e&&e(t)}))}function b(t,e){return Object(n["a"])("/api/admin/order/examine/".concat(t.id),"get",t).then((function(t){t&&e&&e(t)}))}function h(t,e){return Object(n["a"])("/api/admin/order/under_list","get",t).then((function(t){t&&e&&e(t)}))}function g(t,e){return Object(n["a"])("/api/admin/good/list","get",t).then((function(t){t&&e&&e(t)}))}function v(t,e){return Object(n["a"])("/api/admin/order/success_order","post",t).then((function(t){t&&e&&e(t)}))}function _(t,e){return Object(n["a"])("/api/admin/good/save","post",t).then((function(t){t&&e&&e(t)}))}function y(t,e){return Object(n["a"])("/api/admin/good/del","get",t).then((function(t){t&&e&&e(t)}))}function k(t,e){return Object(n["a"])("/api/admin/feedback/auth","post",t).then((function(t){t&&e&&e(t)}))}},a673:function(t,e,a){"use strict";var n=a("fd51"),i=a.n(n);i.a},accf:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"goods-order-list-warp"},[a("div",{staticClass:"container"},[a("div",{staticClass:"head-nav"},[a("span",{staticClass:"title"},[t._v("卡密渠道列表")]),a("el-button",{staticStyle:{"margin-left":"20px"},attrs:{type:"primary",icon:"search"},on:{click:function(e){return t.createCardBtnClicked()}}},[t._v("创建卡密渠道")])],1),a("div",{staticClass:"handle-box"},[a("span",{staticClass:"label"},[t._v("渠道名称：")]),a("el-input",{staticClass:"handle-input mr10",attrs:{placeholder:"渠道名称"},model:{value:t.params.name,callback:function(e){t.$set(t.params,"name",e)},expression:"params.name"}}),a("span",{staticClass:"label"},[t._v("渠道状态：")]),a("el-select",{staticClass:"handle-select mr10",attrs:{placeholder:"全部"},model:{value:t.params.status,callback:function(e){t.$set(t.params,"status",e)},expression:"params.status"}},[a("el-option",{key:"0",attrs:{label:"全部",value:"99"}}),a("el-option",{key:"1",attrs:{label:"启用",value:"0"}}),a("el-option",{key:"2",attrs:{label:"禁用",value:"1"}})],1),a("span",{staticClass:"label"},[t._v("生成时间:")]),a("el-date-picker",{attrs:{type:"datetimerange","value-format":"yyyy-MM-dd HH:mm:ss","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","default-time":["00:00:00","23:59:59"],"unlink-panels":""},on:{change:t.get_time},model:{value:t.value1,callback:function(e){t.value1=e},expression:"value1"}}),a("el-button",{staticStyle:{"margin-left":"20px"},attrs:{type:"primary",icon:"search"},on:{click:function(e){return t.getData(!0)}}},[t._v("搜索")])],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],ref:"multipleTable",staticClass:"table",attrs:{data:t.tableData,border:"","default-sort":{prop:"created_at",order:"descending"}}},[a("el-table-column",{attrs:{prop:"name",label:"渠道名称",width:"100px;"}}),a("el-table-column",{attrs:{label:"代理描述",prop:"descript"}}),a("el-table-column",{attrs:{prop:"contact",label:"联系方式"}}),a("el-table-column",{attrs:{prop:"created_at",label:"生成时间",sortable:"","sory-by":"created_at"}}),a("el-table-column",{attrs:{prop:"status",label:"状态"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"table-cell",staticStyle:{display:"flex","align-items":"center","justify-content":"center"}},[0==e.row.status?a("a",{staticClass:"icon icon-show",attrs:{title:"点击禁用"},on:{click:function(a){return a.preventDefault(),t.handleEditShow(e.row,1)}}},[t._v("启用")]):t._e(),1==e.row.status?a("a",{staticClass:"icon icon-none",attrs:{title:"点击启用"},on:{click:function(a){return a.preventDefault(),t.handleEditShow(e.row,0)}}},[t._v("禁用")]):t._e()])]}}])}),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",icon:"el-icon-edit"},on:{click:function(a){return t.createCardBtnClicked(e.row)}}},[t._v("编辑")]),a("el-button",{staticStyle:{color:"red"},attrs:{type:"text",icon:"el-icon-circle-close"},on:{click:function(a){return t.handleDelete(e.row)}}},[t._v("删除")])]}}])})],1),a("div",{staticClass:"pagination"},[a("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:t.total,"page-size":t.params.pageSize||20},on:{"current-change":t.handleCurrentChange}})],1)],1),a("el-dialog",{attrs:{title:"生成卡密","close-on-click-modal":!1,visible:t.editVisible,width:"40%",center:""},on:{"update:visible":function(e){t.editVisible=e}}},[a("el-form",{ref:"form",staticClass:"detalis-form",attrs:{rules:t.rules,model:t.auditForm,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"渠道名称",prop:"name"}},[a("el-input",{attrs:{placeholder:"请输入代理账户"},model:{value:t.auditForm.name,callback:function(e){t.$set(t.auditForm,"name",e)},expression:"auditForm.name"}})],1),a("el-form-item",{attrs:{label:"联系方式",prop:"contact"}},[a("el-input",{attrs:{placeholder:"请输入联系方式(如QQ号或者客服地址)"},model:{value:t.auditForm.contact,callback:function(e){t.$set(t.auditForm,"contact",e)},expression:"auditForm.contact"}})],1),a("el-form-item",{attrs:{label:"描述",prop:"descript"}},[a("el-input",{attrs:{type:"textarea",clearable:"",placeholder:"请输入代理账户"},model:{value:t.auditForm.descript,callback:function(e){t.$set(t.auditForm,"descript",e)},expression:"auditForm.descript"}})],1)],1),a("span",{staticClass:"dialog-footer",staticStyle:{display:"flex","align-items":"center","justify-content":"flex-end"},attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){return t.resetForm("form")}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.submitForm("form")}}},[t._v("确 定")])],1)],1),a("el-dialog",{attrs:{title:"提示","close-on-click-modal":!1,visible:t.delVisible,width:"300px",center:""},on:{"update:visible":function(e){t.delVisible=e}}},[a("div",{staticClass:"del-dialog-cnt"},[t._v("删除不可恢复，是否确定删除？")]),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.delVisible=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.deleteSure}},[t._v("确 定")])],1)])],1)},i=[],r=a("99c5a"),o=a("7ed4"),s=a("608d"),c={name:"goods-order-list",components:{vPass:s["a"]},data:function(){return{value1:"",tableData:[],loading:!0,params:{status:"99",name:""},total:1,editVisible:!1,delVisible:!1,selectItem:"",pname:"",auditForm:{isCreating:!1},rules:{name:[{required:!0,message:"请输入所属代理帐号",trigger:"change"}],contact:[{required:!0,message:"请输入联系方式",trigger:"change"}],descript:[{required:!0,message:"请输入客服方式(如QQ,微信等)和注意事项",trigger:"change"}]}}},beforeDestroy:function(){o["a"].$off("leftReloadData")},created:function(){var t=this;this.getData(),o["a"].$on("leftReloadData",(function(e){e&&e==t.$route.path&&(console.log("msg=".concat(JSON.stringify(e),",,,").concat(t.$route.path)),t.params.name="",t.params.status="99",t.value1="",t.params.page=1,t.params.start_time="",t.params.end_time="",t.loading=!0,t.getData())}))},computed:{},methods:{handleDelete:function(t){this.selectItem=t,this.delVisible=!0},deleteSure:function(){var t=this;Object(r["b"])({id:this.selectItem.id},(function(e){200==e.code&&(t.selectItem="",t.$message.success("删除成功"),t.getData()),t.delVisible=!1}))},handleEditShow:function(t,e){var a=this;Object(r["p"])({id:t.id},(function(t){200==t.code&&(a.getData(),a.$message.success("修改成功"))}))},createCardBtnClicked:function(t){if(console.log("item=".concat(JSON.stringify(t))),t){var e={};Object.assign(e,t),this.auditForm=e}else this.auditForm={};console.log("aaaaa=".concat(JSON.stringify(this.auditForm))),this.editVisible=!0},get_time:function(){null!=this.value1?(this.params.start_time=this.value1[0],this.params.end_time=this.value1[1]):(this.params.start_time="",this.params.end_time="")},resetForm:function(t){this.$refs[t].resetFields(),this.delVisible=!1,this.editVisible=!1},submitForm:function(t){var e=this;this.$refs[t].validate((function(a){if(!a)return e.auditForm.isCreating=!1,console.log("error submit!!"),!1;e.auditForm.isCreating||(e.auditForm.isCreating=!0,Object(r["e"])(e.auditForm,(function(a){e.auditForm.isCreating=!1,200==a.code&&(e.$message.success("提交成功"),e.getData()),e.resetForm(t)})))}))},handleCurrentChange:function(t){this.params.page=t,this.getData()},getData:function(t){var e=this;t&&(this.params.page=1),Object(r["g"])(this.params,(function(t){200==t.code&&(e.tableData=t.data.list,e.total=t.data.count,e.loading=!1)}))}}},l=c,u=(a("c68f"),a("2877")),d=Object(u["a"])(l,n,i,!1,null,null,null);e["default"]=d.exports},c68f:function(t,e,a){"use strict";var n=a("621a"),i=a.n(n);i.a},fd51:function(t,e,a){}}]);